<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/">
  <channel>
    <title>postback on log from home</title>
    <link>https://blog.lofibean.cc/tags/postback/</link>
    <description>Recent content in postback on log from home</description>
    <image>
      
      <url>https://blog.lofibean.cc/android-chrome-512x512.png?v=20201231</url>
      
      <title>Favicon of postback on log from home</title>
      <link>https://blog.lofibean.cc/</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; bemnlam</copyright>
    <lastBuildDate>Fri, 12 Feb 2021 12:44:24 +0800</lastBuildDate>
    
	<atom:link href="https://blog.lofibean.cc/tags/postback/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>üêû Fixing AjaxControlTookit Unexpected Page Reload in ASP.NET Web Form Application</title>
      <link>https://blog.lofibean.cc/posts/fixing-ajaxcontroltoolkit-unexpected-page-reload-in-aspnet-webform-application/</link>
      <pubDate>Fri, 12 Feb 2021 12:44:24 +0800</pubDate>
      
      <guid>https://blog.lofibean.cc/posts/fixing-ajaxcontroltoolkit-unexpected-page-reload-in-aspnet-webform-application/</guid>
      
        <description>&lt;img src=&#34;https://blog.lofibean.cc/posts/fixing-ajaxcontroltoolkit-unexpected-page-reload-in-aspnet-webform-application/thumbnail.jpg&#34; /&gt;&lt;aside class=&#34;c-toc&#34;&gt;
  &lt;details open&gt;
    &lt;summary title=&#34;click to toggle table of contents.&#34;&gt;Table of Contents&lt;/summary&gt;
    &lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#-problem&#34;&gt;üò® Problem&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#expected-vs-actual-behavior&#34;&gt;Expected vs Actual Behavior&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#expected&#34;&gt;Expected&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#actual&#34;&gt;Actual&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#-solution-part-1-updating-ajaxcontroltoolkit&#34;&gt;üòÄ Solution (Part 1): Updating &lt;code&gt;AjaxControlToolkit&lt;/code&gt;&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#nuget-package-update&#34;&gt;Nuget Package Update&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#some-breaking-changes&#34;&gt;Some Breaking Changes&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#different-__dopostback-in-firefox&#34;&gt;Different &lt;code&gt;__doPostBack()&lt;/code&gt; in Firefox?&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#-solution-part-2-adding--aspasyncpostbacktrigger&#34;&gt;üòÄ Solution (Part 2): Adding  &lt;code&gt;&amp;lt;asp:AsyncPostBackTrigger&amp;gt;&lt;/code&gt;&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#the-working-code-snippet&#34;&gt;The Working Code Snippet&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#summary&#34;&gt;Summary&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
  &lt;/details&gt;
&lt;/aside&gt;

&lt;h2 id=&#34;-problem&#34;&gt;üò® Problem&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;TL;DR: see &lt;a href=&#34;#summary&#34;&gt;Summary&lt;/a&gt; and &lt;a href=&#34;#the-working-code-snippet&#34;&gt;the working code snippet&lt;/a&gt; if you want to try it right away.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In my company there is an old Web Form Website running .NET Framework 3.5. I migrated it to an ASP.NET Web Form Application running .NET Framework 4.7.2 few months ago. The website is running just like the old one but recently a user reported that:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;a &lt;code&gt;&amp;lt;select&amp;gt;&lt;/code&gt; list which should triggers an AJAX call and refresh part of the page does not work. Instead, the page is reloaded everytime when the item in the &lt;code&gt;&amp;lt;select&amp;gt;&lt;/code&gt; list is changed.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I used almost a day to figure out what&amp;rsquo;s (probably) happened and I hope that this article will be helpful to someone in the future who (still) encounter this problem.&lt;/p&gt;
&lt;h2 id=&#34;expected-vs-actual-behavior&#34;&gt;Expected vs Actual Behavior&lt;/h2&gt;
&lt;p&gt;There is a &lt;code&gt;&amp;lt;form&amp;gt;&lt;/code&gt; containing a &lt;code&gt;&amp;lt;select&amp;gt;&lt;/code&gt; list (generated by &lt;a href=&#34;https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.webcontrols.dropdownlist?view=netframework-4.8&#34;&gt; &lt;code&gt;&amp;lt;asp:DropDownList&amp;gt;&lt;/code&gt;&lt;/a&gt;). When the selected option is changed, an AJAX call will be fired and new items will be fetched. Besides, there is a text area for user to input remarks. A submit button will submit the form.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;img/image-20210212150215986.png&#34; alt=&#34;image-20210212150215986&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;expected&#34;&gt;Expected&lt;/h3&gt;
&lt;p&gt;The page will not be reloaded when the selected option is changed. The content in the text area retains.&lt;/p&gt;
&lt;h3 id=&#34;actual&#34;&gt;Actual&lt;/h3&gt;
&lt;p&gt;Once the selected option is changed, a form POST is fired (instead of an AJAX call). The content in the text area is therefore being cleaned.&lt;/p&gt;
&lt;p&gt;This is related to AJAX calls so the first thing I checked was how the AJAX call was initiated.&lt;/p&gt;
&lt;h2 id=&#34;-solution-part-1-updating-ajaxcontroltoolkit&#34;&gt;üòÄ Solution (Part 1): Updating &lt;code&gt;AjaxControlToolkit&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;In the &lt;code&gt;.aspx&lt;/code&gt; file I saw a &lt;code&gt;&amp;lt;asp:UpdatePanel&amp;gt;&lt;/code&gt; and a &lt;code&gt;&amp;lt;asp:DropDownList&amp;gt;&lt;/code&gt;. This is the simplified structure of that part:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;asp:UpdatePanel&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;runat=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;server&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ID=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;UpdatePanel2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;UpdateMode=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Conditional&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ChildrenAsTriggers=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;ContentTemplate&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;asp:DropDownList&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;runat=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;server&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ID=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ddItemTypes&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AutoPostBack=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;OnSelectedIndexChanged=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ddItemTypes_OnSelectedIndexChanged&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/ContentTemplate&amp;gt;&lt;/span&gt;            
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/asp:UpdatePanel&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;AutoPostBack&lt;/code&gt; is there so the app should use &lt;code&gt;AjaxControlToolkit&lt;/code&gt; to make AJAX calls (I guess that&amp;rsquo;s the standard right?).&lt;/p&gt;
&lt;h3 id=&#34;nuget-package-update&#34;&gt;Nuget Package Update&lt;/h3&gt;
&lt;p&gt;I checked the &lt;code&gt;package.config&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;id=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;AjaxControlToolkit&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;version=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;4.1.50508&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;targetFramework=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;net35&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Looks like the &lt;code&gt;targetFramework&lt;/code&gt; is not right. Maybe it&amp;rsquo;s time to update the package too.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;id=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;AjaxControlToolkit&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;version=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;20.1.0&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;targetFramework=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;net472&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;some-breaking-changes&#34;&gt;Some Breaking Changes&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/DevExpress/AjaxControlToolkit&#34;&gt;AjaxControlToolkit&lt;/a&gt; has some breaking changes since version 15+. In short, you need to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Uninstall the old version and install the new version of &lt;a href=&#34;https://www.nuget.org/packages/AjaxControlToolkit&#34;&gt;&lt;code&gt;AjaxControlToolkit&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Change &lt;code&gt;&amp;lt;asp:ToolkitScriptManager&amp;gt;&lt;/code&gt; to &lt;code&gt;&amp;lt;asp:ScriptManager&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remove some unused configs in &lt;code&gt;web.config&lt;/code&gt; (see &lt;a href=&#34;https://github.com/DevExpress/AjaxControlToolkit/wiki/Upgrading-from-v7.x-and-below#3---clean-up-webconfig&#34;&gt;this&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;[Optional] Install &lt;a href=&#34;https://www.nuget.org/packages/AjaxControlToolkit.HtmlEditor.Sanitizer/&#34;&gt;&lt;code&gt;AjaxControlToolkit.HtmlEditor.Sanitizer&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Change the namespace &lt;code&gt;AjaxControlToolkit.HTMLEditor&lt;/code&gt; to &lt;code&gt;AjaxControlToolkit.HtmlEditor&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Change the namespace &lt;code&gt;AjaxControlToolkit.HTMLEditor.ToolbarButton&lt;/code&gt; to &lt;code&gt;AjaxControlToolkit.HtmlEditor.ToolbarButtons&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You may also read&lt;a href=&#34;https://github.com/DevExpress/AjaxControlToolkit/wiki/Upgrading-from-v7.x-and-below#3---clean-up-webconfig&#34;&gt; the official complete migration guide&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;After I upgrade the Nuget package, the AJAX calls was working partially: It only works on Chromium-base browsers like Chrome and Edge. However, &lt;strong&gt;it does not work on Firefox (85.0) and Safari (14.0.1)&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;üòê üòê üòê&lt;/p&gt;
&lt;h3 id=&#34;different-__dopostback-in-firefox&#34;&gt;Different &lt;code&gt;__doPostBack()&lt;/code&gt; in Firefox?&lt;/h3&gt;
&lt;p&gt;This is what I got from Firefox&amp;rsquo;s dev tool:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;img/image-20210212140706748.png&#34; alt=&#34;call stack form Firefox image-20210212140706748&#34;&gt;&lt;/p&gt;
&lt;p&gt;The initiator is from &lt;code&gt;__doPostBack()&lt;/code&gt; in the &lt;code&gt;.aspx&lt;/code&gt; page. In Chrome, it&amp;rsquo;s from &lt;code&gt;ScriptResource.axd&lt;/code&gt;. Below is the expected call stack: the call is an XHR request fired from &lt;code&gt;ScriptResource.axd&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;img/image-20210212141300293.png&#34; alt=&#34;Expected call stack image-20210212141300293&#34;&gt;&lt;/p&gt;
&lt;p&gt;Looks like the stack items from bottom to &lt;code&gt;_doPostBack()&lt;/code&gt; are the same.  I therefore dug into &lt;code&gt;_doPostBack()&lt;/code&gt; and eventually found this piece of code in &lt;code&gt;ScriptResource.axd&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;_postBackSettings&lt;/span&gt;.&lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt;) {            
    &lt;span style=&#34;color:#a6e22e&#34;&gt;form&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;onsubmit&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;_onsubmit&lt;/span&gt;;            
    &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;_originalDoPostBack&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;eventTarget&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;eventArgument&lt;/span&gt;);            
    &lt;span style=&#34;color:#a6e22e&#34;&gt;form&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;onsubmit&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;;            
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;;        
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;if &lt;code&gt;this._postBackSettings.async&lt;/code&gt; is &lt;code&gt;false&lt;/code&gt;, &lt;code&gt;_originaldoPostBack()&lt;/code&gt; will be called and that is the &lt;code&gt;__doPostBack()&lt;/code&gt; function defined in the &lt;code&gt;.aspx&lt;/code&gt; page. &lt;strong&gt;This will trigger a page reload instead of an AJAX call&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Furthermore, I found that the &lt;code&gt;asyncTarget&lt;/code&gt; in &lt;code&gt;_postBackSettings &lt;/code&gt; is &lt;code&gt;null&lt;/code&gt; but in Chrome that target is the &lt;code&gt;&amp;lt;select&amp;gt;&lt;/code&gt; list.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In Firefox (v85.0) the javascript event initiated is somehow keep propagating to a higher level than the &lt;code&gt;&amp;lt;select&amp;gt;&lt;/code&gt; list (probably to the form&amp;rsquo;s level) and therefore being treated as a form POST instead of an AJAX call.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;-solution-part-2-adding--aspasyncpostbacktrigger&#34;&gt;üòÄ Solution (Part 2): Adding  &lt;code&gt;&amp;lt;asp:AsyncPostBackTrigger&amp;gt;&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;I did some research related to the Firefox-specific page reload and seems none of them were talking about the issue I met. I tried to study the fundamentals of this &lt;strong&gt;PostBack&lt;/strong&gt; behaviour.&lt;/p&gt;
&lt;p&gt;Finally I got this article &lt;a href=&#34;https://www.aspsnippets.com/Articles/Avoid-Prevent-Page-refresh-PostBack-after-SelectedIndexChanged-is-fired-in-ASPNet-DropDownList.aspx&#34;&gt;&lt;strong&gt;Avoid (Prevent) Page refresh (PostBack) after SelectedIndexChanged is fired in ASP.Net DropDownList&lt;/strong&gt;&lt;/a&gt;. It suggested what I might missing is an &lt;code&gt;asp:AsyncPostBackTrigger&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Also, &lt;a href=&#34;https://stackoverflow.com/questions/728043/how-to-stop-updatepanel-from-causing-whole-page-postback/728061#728061&#34;&gt;this StackOverflow answer&lt;/a&gt; menitoned the &lt;code&gt;asp:AsyncPostBackTrigger&lt;/code&gt; thing.&lt;/p&gt;
&lt;p&gt;So my understanding is:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When using the &lt;code&gt;ScriptManager&lt;/code&gt; (i.e. the one we introduced when updating the &lt;code&gt;AjaxControlToolkit&lt;/code&gt;), we need to define an &lt;code&gt;asp:AsyncPostBackTrigger&lt;/code&gt; &lt;code&gt;Trigger&lt;/code&gt; in order to make the call AJAX.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Therefore, I added a &lt;code&gt;Trigger&lt;/code&gt; section to the &lt;code&gt;.aspx&lt;/code&gt; file:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;Triggers&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;asp:AsyncPostBackTrigger&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ControlID=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ddItemTypes&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;EventName=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;SelectedIndexChanged&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/Triggers&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This &lt;code&gt;Trigger&lt;/code&gt; section should be placed under the same &lt;code&gt;&amp;lt;asp:UpdatePanel&amp;gt;&lt;/code&gt; with the &lt;code&gt;&amp;lt;asp:DropDownList&amp;gt;&lt;/code&gt;. Here is the complete snippet:&lt;/p&gt;
&lt;h3 id=&#34;the-working-code-snippet&#34;&gt;The Working Code Snippet&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;asp:UpdatePanel&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;runat=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;server&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ID=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;UpdatePanel2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;UpdateMode=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Conditional&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ChildrenAsTriggers=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;ContentTemplate&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;asp:DropDownList&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;runat=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;server&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ID=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ddItemTypes&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AutoPostBack=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;OnSelectedIndexChanged=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ddItemTypes_OnSelectedIndexChanged&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/ContentTemplate&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;Triggers&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;asp:AsyncPostBackTrigger&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ControlID=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ddItemTypes&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;EventName=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;SelectedIndexChanged&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/Triggers&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/asp:UpdatePanel&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Note:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;EventName&lt;/code&gt; is optional here but since I just want this trigger to listen the &lt;code&gt;SelectedIndexChanged&lt;/code&gt; event, I add them all.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;ControlID&lt;/code&gt; has to be an exact match with the &lt;code&gt;ID&lt;/code&gt; of &lt;code&gt;&amp;lt;asp:DropDownList&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;After I added the &lt;code&gt;&amp;lt;asp:AsyncPostBackTrigger&amp;gt;&lt;/code&gt;, all the browsers including Chrome, Edge, Firefox (85.0) and Safari (14.0.1) are working.&lt;/p&gt;
&lt;h2 id=&#34;summary&#34;&gt;Summary&lt;/h2&gt;
&lt;p&gt;When your .NET 4.5+ ASP.NET Web Form Application using &lt;code&gt;AjaxControlToolkit&lt;/code&gt; does not work as expected and cause the controls like &lt;code&gt;&amp;lt;asp:DropDownList&amp;gt;&lt;/code&gt; cannot fire an AJAX call (but triggers a form POST), make sure that:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;AjaxControlToolkit&lt;/code&gt; Nuget package is up to date (and did the proper migration steps &lt;a href=&#34;https://github.com/DevExpress/AjaxControlToolkit/wiki/Upgrading-from-v7.x-and-below#3---clean-up-webconfig&#34;&gt;here&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;&amp;lt;asp:UpdatePanel&amp;gt;&lt;/code&gt; section should contain a &lt;code&gt;&amp;lt;Triggers&amp;gt;&lt;/code&gt; section. In that section there is an &lt;code&gt;&amp;lt;asp:AsyncPostBackTrigger&amp;gt;&lt;/code&gt; with &lt;code&gt;ControlID&lt;/code&gt; same as the &lt;code&gt;ID&lt;/code&gt; of your control (which is also placed under the same UpdatePanel section).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
      
    </item>
    
  </channel>
</rss>
