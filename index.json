[{"categories":["Readings"],"contents":" å¯ä¸å¯èƒ½æœ‰ä¸€å¤©æ‰€æœ‰äººéƒ½æœ‰åŸºæ–¼äº‹å¯¦çš„ä¸–ç•Œè§€å‘¢ï¼Ÿå·¨å¤§çš„æ”¹è®Šç¸½æ˜¯é›£ä»¥æƒ³åƒï¼Œä½†çµ•å°æœ‰å¯èƒ½ï¼Œæˆ‘ä¹Ÿç›¸ä¿¡æœ‰ä¸€å¤©æœƒå¯¦ç¾ï¼ŒåŸå› æœ‰å…©å€‹ï¼šç¬¬ä¸€ï¼ŒåŸºæ–¼ç¾å¯¦çš„ä¸–ç•Œè§€æ›´æœ‰åŠ©æŠŠäººç”Ÿèµ°å¥½ï¼Œå°±åƒæº–ç¢ºçš„å°èˆªç³»çµ±æ›´æœ‰åŠ©ä½ åœ¨åŸè£¡æ‰¾è·¯ï¼›ç¬¬äºŒï¼Œå¤§æ¦‚æ›´é‡è¦çš„æ˜¯ï¼ŒåŸºæ–¼ç¾å¯¦çš„ä¸–ç•Œè§€è®“äººæ›´å®‰å¿ƒï¼Œæ¯”èª‡å¤§çš„ä¸–ç•Œè§€ä¾†å¾—ä¸æœƒé€ æˆå£“åŠ›èˆ‡çµ•æœ›ï¼Œç•¢ç«Ÿèª‡å¤§çš„ä¸–ç•Œè§€å¤ªè² é¢ä¹Ÿå¤ªåš‡äººäº†ã€‚\n  æˆ‘å€‘æœ‰äº†åŸºæ–¼ç¾å¯¦çš„ä¸–ç•Œè§€ä¹‹å¾Œï¼Œå¯ä»¥çœ‹åˆ°ä¸–ç•Œä¸å¦‚è¡¨é¢ä¸Šé‚£éº¼ç³Ÿâ”€â”€è€Œä¸”å¯ä»¥çŸ¥é“æˆ‘å€‘è©²æ€éº¼è®“ä¸–ç•Œè®Šå¾—æ„ˆä¾†æ„ˆå¥½ã€‚\n Table of Contents  1: äºŒåˆ†åŒ–ç›´è¦ºåèª¤ 2: è² é¢å‹ç›´è¦ºåèª¤ 3: æ‰­è½‰ç›´ç·šå‹ç›´è¦ºåèª¤ 4: ææ‡¼å‹ç›´è¦ºåèª¤ 5: å¤±çœŸå‹ç›´è¦ºåèª¤ 6: æ¦‚æ‹¬å‹ç›´è¦ºåèª¤ 7: å®¿å‘½å‹ç›´è¦ºåèª¤ 8: å–®ä¸€è§€é»ç›´è¦ºåèª¤ 9: æ€ªç½ªå‹ç›´è¦ºåèª¤ 10: æ€¥è¿«å‹ç›´è¦ºåèª¤     1: äºŒåˆ†åŒ–ç›´è¦ºåèª¤  ç‚ºäº†æ‰­è½‰äºŒåˆ†åŒ–ç›´è¦ºåèª¤ï¼Œä½ è¦å°‹æ‰¾å¤šæ•¸æ˜¯è½åœ¨å“ªè£¡ã€‚æ‡‚å¾—å¯Ÿè¦ºæˆ‘å€‘é‡åˆ°äº†ä¸€å€‹å°‡äº‹æƒ…å€åˆ†æˆå…©é¡çš„èªªæ³•ï¼Œä¸­é–“éš”è‘—ä¸€æ¢é´»æºã€‚ä½†çœŸå¯¦ä¸–ç•Œå¾€å¾€ä¸æ˜¯æ–·ç„¶äºŒåˆ†ï¼Œå¤šæ•¸äººé€šå¸¸æ˜¯è½åœ¨ä¸­é–“ï¼Œé´»æºä¸¦ä¸å­˜åœ¨ã€‚\n  ç•™æ„å°å¹³å‡å€¼çš„æ¯”è¼ƒï¼šå¦‚æœä½ èƒ½æª¢è¦–åˆ†å¸ƒç‹€æ³ï¼Œå¤§æ¦‚æœƒç™¼ç¾å€‹é«”é–“æœ‰æ‰€é‡ç–Šï¼Œé´»æºä¸¦ä¸å­˜åœ¨ã€‚ ç•™æ„å°æ¥µå€¼çš„æ¯”è¼ƒï¼šç„¡è«–ä»»ä½•åœ‹å®¶æˆ–ç¾¤é«”ï¼Œç¸½æœ‰ä¸Šå±¤èˆ‡ä¸‹å±¤ï¼Œæœ‰æ™‚æ¶‰åŠé«˜åº¦ä¸å…¬ï¼Œä½†å³ä½¿å¦‚æ­¤ï¼Œå¤šæ•¸é€šå¸¸ä»æ˜¯è½åœ¨ä¸­é–“ï¼ŒåŸæœ¬ä½ ä»¥ç‚ºé´»æºæ‰€åœ¨çš„åœ°æ–¹ã€‚ ç•™æ„è‡ªå·±çš„ä¸Šå±¤ç›®å…‰ï¼šåˆ‡è¨˜ï¼Œå¾ä¸Šå±¤ä¿¯ç°çš„ç›®å…‰ä¸æº–ï¼Œåº•ä¸‹å…¶ä»–æ±è¥¿çœ‹èµ·ä¾†éƒ½ä¸€æ¨£çŸ®ï¼Œä½†å…¶å¯¦ä¸ç„¶ã€‚  2: è² é¢å‹ç›´è¦ºåèª¤  ç‚ºäº†æ‰­è½‰è² é¢å‹ç›´è¦ºåèª¤ï¼Œä½ è©²é æœŸå£æ¶ˆæ¯æœƒè¢«å¤§è‚†å ±å°ã€‚\n  æ—¢æ˜¯ç³Ÿç³•ä¹Ÿåœ¨è®Šå¥½ï¼šç·´ç¿’å€åˆ†ç‹€æ…‹ï¼ˆæ¯”å¦‚ã€Œç³Ÿç³•ã€ï¼‰èˆ‡æ”¹è®Šçš„è¶¨å‹¢ï¼ˆæ¯”å¦‚ã€Œè®Šå¥½ã€ï¼‰ï¼Œæ˜ç™½äº‹æƒ…å¯ä»¥æ—¢æ˜¯ç³Ÿç³•ä¹Ÿåœ¨è®Šå¥½ã€‚ å¥½æ¶ˆæ¯ä¸æˆæ–°èï¼šå¥½æ¶ˆæ¯çµ•å°‘æœƒå ±å°ï¼Œæ‰€ä»¥æ–°èå¤§å¤šæ˜¯å£æ¶ˆæ¯ã€‚ç•¶ä½ çœ‹åˆ°å£æ¶ˆæ¯ï¼Œå•ä¸€å•è‡ªå·±ï¼Œå¥½æ¶ˆæ¯æ˜¯å¦ä¹Ÿæœƒç²å¾—å ±å°ã€‚ é€æ¼¸é€²æ­¥ä¸æˆæ–°èï¼šç•¶äº‹æƒ…é€æ¼¸é€²æ­¥ï¼Œåªæ˜¯æœ‰æ™‚é€€æ­¥ä¸€ä¸‹ï¼Œä½ å¾€å¾€æœƒæ³¨æ„åˆ°ä¸€æ™‚çš„é€€æ­¥ï¼Œè€Œéæ•´é«”çš„é€²æ­¥ã€‚ æ–°èå¤šä¸ä»£è¡¨å£äº‹å¤šï¼šå£æ–°èå¤šï¼Œæœ‰æ™‚åªä»£è¡¨å„ç•Œå°å£äº‹çš„ç›£æ§åº¦æœ‰æ‰€æå‡ï¼Œä¸ä»£è¡¨ä¸–ç•Œæ­£åœ¨è®Šç³Ÿã€‚ å°å¿ƒå°éå¾€çš„ç¾åŒ–ï¼šäººæ™‚å¸¸æœƒç¾åŒ–éå»ï¼Œåœ‹å®¶æ™‚å¸¸æœƒæ­Œé Œæ­·å²ã€‚  3: æ‰­è½‰ç›´ç·šå‹ç›´è¦ºåèª¤  ç‚ºäº†æ‰­è½‰ç›´ç·šå‹ç›´è¦ºåèª¤ï¼Œåˆ‡è¨˜ã€Œç·šæœ‰å„ç¨®å½¢ç‹€ã€ï¼Œäº‹æƒ…ä¸æœƒåªæœ‰ä¸€ç¨®ç™¼å±•æ–¹å‘ã€‚\n  åˆ¥å‡å®šæœƒæ˜¯ç›´ç·šï¼šè¨±å¤šè¶¨å‹¢ä¸æ˜¯å‘ˆç›´ç·šï¼Œè€Œæ˜¯å‘ˆï¼³å‹ã€æ»‘æ¢¯å‹ã€é§å³°å‹æˆ–å€å¢å‹ç™¼å±•ã€‚å¤©åº•ä¸‹æ²’æœ‰å“ªå€‹å¹¼å…’æœƒä»¥å‡ºç”Ÿå‰6å€‹æœˆçš„ç”Ÿé•·é€Ÿåº¦ç¹¼çºŒé•·å¤§ï¼Œä¹Ÿæ²’æœ‰çˆ¶æ¯æ¨‚è¦‹å¦‚æ­¤ã€‚  4: ææ‡¼å‹ç›´è¦ºåèª¤  ç‚ºäº†æ‰­è½‰ææ‡¼å‹ç›´è¦ºåèª¤ï¼Œä½ æ‡‰è©²è©•ä¼°é¢¨éšªã€‚æ‡‚å¾—å¯Ÿè¦ºå¯æ€•äº‹ç‰©æ­£åœ¨å¸å¼•æˆ‘å€‘çš„æ³¨æ„åŠ›ï¼Œç„¶å¾Œæ„è­˜åˆ°é€™äº›ä¸è¦‹å¾—æ˜¯æœ€å±éšªçš„äº‹ç‰©ã€‚æˆ‘å€‘ç”Ÿä¾†å®³æ€•è¡çªã€å—å›°èˆ‡æ±™æŸ“ï¼Œé«˜ä¼°äº†ç›¸é—œå±å®³ã€‚\n   ææ‡¼vs.ç¾å¯¦ï¼šä¸–ç•Œé¡¯å¾—æ¯”å¯¦éš›ä¸Šæ›´å¯æ€•ï¼ŒåŸå› æ˜¯æ–°èåª’é«”èˆ‡ä½ è‡ªå·±çš„æ³¨æ„åŠ›éæ¿¾å™¨æŠŠè³‡è¨Šç¯©é¸éäº†ï¼Œç•™ä¸‹ææ€–çš„æ¶ˆæ¯ã€‚\n  é¢¨éšªï¼å±éšªxæš´éœ²ï¼šé¢¨éšªç¨‹åº¦ä¸æ˜¯å–æ±ºæ–¼ä½ æ„Ÿè¦ºå¤šå®³æ€•ï¼Œè€Œæ˜¯é—œä¹å…©ä»¶äº‹ï¼šæœ‰å¤šå±éšªï¼Ÿä½ æš´éœ²åœ¨å¤šå°‘å±éšªä¸­ï¼Ÿ\n  å…ˆå†·éœå†èªªï¼šä½ å®³æ€•æ™‚çœ‹è¦‹çš„ä¸–ç•Œæœƒä¸ä¸€æ¨£ã€‚åœ¨é©šææ¶ˆé€€ä¹‹å‰ï¼Œç›¡é‡å°‘åšæ±ºå®šã€‚\n  5: å¤±çœŸå‹ç›´è¦ºåèª¤  ç‚ºäº†å…‹åˆ¶å¤±çœŸå‹ç›´è¦ºåèª¤ï¼Œä½ å¾—æŒ‰æ¯”ä¾‹èªçŸ¥äº‹ç‰©ã€‚å¦‚æœçœ‹åˆ°æŸå€‹å–®ç¨çš„æ•¸å­—é¡¯å¾—å¾ˆé©šäººï¼ˆæ•¸å­—å¾ˆå¤§æˆ–å¾ˆå°ï¼‰ï¼Œä¸å¦¨è©¦è‘—æ‹¿ä¾†è·Ÿç›¸é—œæ•¸å­—æ¯”å°æˆ–ç›¸é™¤ï¼Œä¹Ÿè¨±æœƒæœ‰æˆªç„¶ä¸åŒçš„æ„Ÿå—ã€‚\n   æ¯”å°ï¼šå·¨å¤§çš„æ•¸å­—ç¸½æ˜¯é©šäººã€‚å–®ç¨å‡ºç¾çš„æ•¸å­—æœƒé€ æˆèª¤å°ï¼Œä½ è©²è¬¹æ…çœ‹å¾…ï¼Œæ°¸é è¦æ‰¾ç›¸é—œæ•¸å­—äº’ç›¸æ¯”å°ï¼Œæœ€å¥½é‚„è¦æ‰¾æŸå€‹æ•¸å­—ç›¸é™¤ã€‚\n  80/20æ³•å‰‡ï¼šä½ æ˜¯å¦æ›¾ç¶“éœ€è¦æª¢è¦–ä¸€å¤§å †é …ç›®ï¼Ÿä¸å¦¨æ‰¾å°‘æ•¸æœ€å¤§çš„é …ç›®ï¼Œå„ªå…ˆè™•ç†ï¼Œé‚£äº›å¾€å¾€æ¯”å…¶ä»–å…¨éƒ¨åŠ èµ·ä¾†æ›´é‡è¦ã€‚\n  é™¤æ³•ï¼šæ•¸å­—èˆ‡æ¯”ä¾‹å¯èƒ½é€éœ²å¤©å·®åœ°åˆ¥çš„è³‡è¨Šã€‚æ¯”ä¾‹è¼ƒæœ‰æ„ç¾©ï¼Œåœ¨æ¯”è¼ƒä¸åŒå¤§å°çš„ç¾¤é«”æ™‚å°¤å…¶æ˜¯é€™æ¨£ã€‚åœ¨æ¯”è¼ƒåœ‹å®¶æˆ–åœ°å€æ™‚ï¼Œç‰¹åˆ¥å¾—çœ‹äººå‡æ¯”ä¾‹ã€‚\n  6: æ¦‚æ‹¬å‹ç›´è¦ºåèª¤  ç‚ºäº†æ‰­è½‰æ¦‚æ‹¬å‹ç›´è¦ºåèª¤ï¼Œä½ è¦è³ªç–‘åˆ†é¡ã€‚æ‡‚å¾—å¯Ÿè¦ºæŸå€‹è§£é‡‹ç•¶ä¸­ç”¨äº†æ¦‚æ‹¬åˆ†é¡ï¼Œç„¶å¾Œæ„è­˜åˆ°åˆ†é¡å¯èƒ½æœƒèª¤å°ã€‚æˆ‘å€‘ç„¡æ³•ä¸æ¦‚æ‹¬åˆ†é¡ï¼Œä¹Ÿä¸è©²è¨­æ³•ä¸å†åˆ†é¡ï¼Œä½†è©²é¿å…éŒ¯ç”¨ã€‚\n   å°‹æ‰¾ä¸€å€‹ç¾¤é«”ã€Œè£¡é¢ã€çš„ä¸åŒä¹‹è™•ï¼šåœ¨ç¾¤é«”å¾ˆå¤§æ™‚å°¤éœ€å¦‚æ­¤ï¼Œä½ å¾—è¨­æ³•åˆ‡åˆ†æˆæ›´æº–ç¢ºçš„å°åˆ†é¡ï¼Œç„¶å¾Œâ€¦â€¦\n  å°‹æ‰¾ä¸åŒç¾¤é«”ã€Œä¹‹é–“ã€çš„ç›¸ä¼¼ä¹‹è™•ï¼šå¦‚æœä½ åœ¨ä¸åŒç¾¤é«”ä¹‹é–“æ‰¾åˆ°éå¸¸ç›¸ä¼¼ä¹‹è™•ï¼Œä½ è¦æ€è€ƒç¾¤é«”ä¹‹é–“æ˜¯å¦æœ‰é—œï¼Œä½†ä¹Ÿâ€¦â€¦\n  å°‹æ‰¾å„å€‹ç¾¤é«”ä¹‹é–“çš„ã€Œå·®ç•°ã€ï¼šåˆ¥å‡å®šé€™å€‹ç¾¤é«”ï¼ˆä¾‹å¦‚ä½ å’Œå…¶ä»–ç¬¬å››ç´šçš„äººæˆ–æ˜è¿·çš„å£«å…µï¼‰è£¡é©ç”¨çš„æ±è¥¿ï¼Œä¹Ÿèƒ½å¥—ç”¨åˆ°å¦ä¸€å€‹ç¾¤é«”ï¼ˆä¾‹å¦‚éç¬¬å››ç´šçš„äººæˆ–ç¡è¦ºçš„å¬°å…’ï¼‰ã€‚\n  ç•¶å¿ƒã€Œå¤šæ•¸ã€ï¼šå¤šæ•¸åªä»£è¡¨è¶…éåŠæ•¸ã€‚ä½ è©²å•é€™å€‹æ‰€è¬‚å¤šæ•¸æ˜¯51ï¼…ã€99ï¼…æˆ–åœ¨ä¸­é–“å“ªè£¡ã€‚\n  ç•¶å¿ƒé®®æ˜ä¾‹å­ï¼šé®®æ˜çš„ä¾‹å­å®¹æ˜“å›æƒ³ï¼Œå»å¯èƒ½æ˜¯ç‰¹ä¾‹è€Œéé€šå‰‡ã€‚\n  å‡å®šåˆ¥äººä¸æ˜¯ç¬¨è›‹ï¼šç•¶æŸå€‹äº‹ç‰©çœ‹èµ·ä¾†æ€ªæ€ªçš„ï¼Œä½ è¦æŠ±æŒå¥½å¥‡èˆ‡è¬™è™›ï¼Œæ€è€ƒé€™å¾å“ªæ–¹é¢çœ‹æ˜¯ä¸€å€‹å¥½è¾¦æ³•ï¼Ÿ\n  7: å®¿å‘½å‹ç›´è¦ºåèª¤  ç‚ºäº†æ‰­è½‰å®¿å‘½å‹ç›´è¦ºåèª¤ï¼Œä½ è¦åˆ‡è¨˜ç·©æ…¢æ”¹è®Šä¹Ÿæ˜¯æ”¹è®Šã€‚æ‡‚å¾—å¯Ÿè¦ºè¨±å¤šäº‹ç‰©ï¼ˆåŒ…æ‹¬å€‹äººã€åœ‹å®¶ã€å®—æ•™å’Œæ–‡åŒ–ï¼‰é›–ç„¶çœ‹ä¼¼æ²’æœ‰æ”¹è®Šï¼Œå…¶å¯¦åªæ˜¯æ”¹è®Šå¾—å¾ˆæ…¢ï¼Œç„¶å¾Œæƒ³åˆ°æ»´æ°´å¯ä»¥ç©¿çŸ³ï¼Œç·©æ…¢çš„å°æ”¹è®Šå¯ä»¥æ—¥ç©æœˆç´¯æˆå¤§è®ŠåŒ–ã€‚\n   ç•™æ„é€æ¼¸çš„é€²æ­¥ï¼šæ¯å¹´é€²æ­¥ä¸€é»é»ï¼Œå¹¾åå¹´å¾Œå°±æ˜¯å·¨å¤§çš„æ”¹è®Šã€‚\n  æ›´æ–°ä½ çš„çŸ¥è­˜ï¼šæœ‰äº›çŸ¥è­˜è½‰çœ¼éæ™‚ï¼Œç§‘æŠ€ã€åœ‹å®¶ã€ç¤¾æœƒã€æ–‡åŒ–å’Œå®—æ•™æ™‚æ™‚åœ¨è®Šã€‚\n  è·ŸçˆºçˆºèŠä¸€èŠï¼šå¦‚æœä½ æƒ³è¤‡ç¿’åƒ¹å€¼è§€ç¢ºå·²æ”¹è®Šé€™ä»¶äº‹ï¼Œä¸å¦¨æƒ³ä¸€æƒ³ä½ ç¥–çˆ¶æ¯çš„åƒ¹å€¼è§€å’Œä½ æ˜¯å¤šéº¼è¿¥ç•°ã€‚\n  è’é›†æ–‡åŒ–æ”¹è®Šçš„ä¾‹å­ï¼šè³ªç–‘ä»Šå¤©çš„æ–‡åŒ–ä¸æœƒè·Ÿæ˜¨å¤©ç›¸åŒï¼Œä¹Ÿä¸æœƒè·Ÿæ˜å¤©ä¸€æ¨£ã€‚\n  8: å–®ä¸€è§€é»ç›´è¦ºåèª¤  ç‚ºäº†æ‰­è½‰å–®ä¸€è§€é»ç›´è¦ºåèª¤ï¼Œä½ è¦æœ‰æ•´å€‹å·¥å…·ç®±è€Œéä¸€æŠŠæ§Œå­ã€‚æ‡‚å¾—å¯Ÿè¦ºå–®ä¸€è§€é»å¯èƒ½å±€é™è‡ªå·²çš„æƒ³åƒï¼Œç„¶å¾Œæƒ³åˆ°ä¸å¦¨è©¦è‘—å¾è¨±å¤šè§’åº¦ä¾†çœ‹å•é¡Œï¼Œæ–¹èƒ½ç²å¾—æ›´æº–ç¢ºçš„äº†è§£ï¼Œæå‡ºæ›´å¯¦éš›çš„è§£æ–¹ã€‚\n   æª¢é©—ä½ çš„æƒ³æ³•ï¼šåˆ¥åªçœ‹æ”¯æŒè‡ªèº«è§€é»çš„æ­£é¢ä½è­‰ï¼Œè€Œæ˜¯è«‹ä¸åŒæ„ä½ çš„äººæª¢é©—ä½ çš„æƒ³æ³•ï¼Œä¸¦æ‰¾å‡ºä»–å€‘çš„æ¼æ´ã€‚\n  å°ˆæ¥­æœ‰å±€é™ï¼šåˆ¥å°å°ˆæ¥­ä»¥å¤–çš„é ˜åŸŸæ’ˆéç•Œï¼šå°ä¸æ‡‚çš„äº‹ç‰©è¦è™›å¿ƒã€‚æ­¤å¤–ï¼Œåˆ¥äººçš„å°ˆæ¥­ä¹Ÿæœ‰å±€é™ï¼Œä½ åŒæ¨£å¾—å°å¿ƒç•™æ„ã€‚\n  æ§Œå­èˆ‡é‡˜å­ï¼šå¦‚æœä½ æ“…é•·ä½¿ç”¨æŸå€‹å·¥å…·ï¼Œä½ æœƒå¤ªå¸¸æƒ³å»ç”¨å®ƒã€‚å¦‚æœä½ æ·±å…¥äº†è§£äº†æŸå€‹å•é¡Œï¼Œä½ å®¹æ˜“èª‡å¤§é‚£å€‹å•é¡Œæˆ–è§£æ–¹çš„é‡è¦æ€§ã€‚åˆ‡è¨˜ï¼Œæ²’æœ‰å“ªå€‹å·¥å…·è™•è™•é©ç”¨ã€‚å¦‚æœä½ æœ€æ„›çš„é»å­æ˜¯æ§Œå­ï¼Œè¨˜å¾—æ‰¾å…¶ä»–æœ‰èºçµ²èµ·å­ã€æ‰³æ‰‹å’Œæ²å°ºçš„åŒäº‹ï¼Œå°å…¶ä»–é ˜åŸŸçš„æƒ³æ³•æŠ±æŒé–‹æ”¾æ…‹åº¦ã€‚\n  çœ‹æ•¸æ“šï¼Œä½†åˆ¥ã€Œåªã€çœ‹æ•¸æ“šï¼šä¸é æ•¸å­—ä¸èƒ½äº†è§£ä¸–ç•Œï¼Œå–®é æ•¸å­—åŒæ¨£ä¸èƒ½ã€‚è¦çœ‹åˆ°æ•¸å­—èƒŒå¾Œçš„ç¾å¯¦ä¸–ç•Œã€‚\n  ç•¶å¿ƒç°¡å–®çš„æƒ³æ³•èˆ‡è§£æ³•ï¼šæ­·å²ä¸Šä¸ä¹è¨±å¤šç©ºæƒ³å®¶ï¼Œæ†‘ä¸€å€‹çƒæ‰˜é‚¦é¡˜æ™¯æ›¿ææ€–æƒ¡è¡Œè¾¯è­·ã€‚ä½ è¦æ­¡è¿è¤‡é›œçš„æ€è€ƒï¼Œå°ç…§ä¸åŒçš„æƒ³æ³•ï¼Œå°‹æ±‚æŠ˜è¡·ï¼Œè¦–æƒ…æ³æ±ºå®šæ€æ¨£è§£æ±ºå•é¡Œã€‚\n  9: æ€ªç½ªå‹ç›´è¦ºåèª¤  ç‚ºäº†æ‰­è½‰æ€ªç½ªå‹ç›´è¦ºåèª¤ï¼Œä½ è¦å¿ä½å°‹æ‰¾ä»£ç½ªç¾”ç¾Šã€‚æ‡‚å¾—å¯Ÿè¦ºåˆ°è‡ªå·±åœ¨æ€ªç½ªæ–¼ä»–äººï¼Œç„¶å¾Œæƒ³åˆ°å°å€‹äººçš„æŒ‡è²¬ï¼Œå¾€å¾€å°è‡´çœ‹ä¸åˆ°å…¶ä»–å¯èƒ½çš„è§£é‡‹æ–¹å¼ï¼Œä¸”å°é˜²æ­¢å£äº‹é‡æ¼”ä¸¦ç„¡åŠ©ç›Šã€‚\n   å°‹æ‰¾åŸå› è€Œéæˆ°çŠ¯ï¼šç•¶å£äº‹ç™¼ç”Ÿï¼Œåˆ¥æ‰¾ç‰¹å®šçš„å€‹äººæˆ–ç¾¤é«”ä¾†æ€ªç½ªï¼Œè€Œæ˜¯æƒ³åˆ°é€™èƒŒå¾Œå¯èƒ½ä¸æ˜¯æœ‰èª°æ•…æ„ç‚ºä¹‹ï¼Œè½‰ç‚ºæŠŠç²¾åŠ›æ”¾åœ¨é‡æ¸…ç’°ç’°ç›¸æ‰£çš„å„å€‹åŸå› æˆ–æ•´å€‹ç³»çµ±ã€‚\n  å°‹æ‰¾é«”åˆ¶è€Œéè‹±é›„ï¼šç•¶æœ‰äººè‡ªç¨±ä¿ƒæˆæŸä»¶å¥½äº‹ï¼Œä½ è¦æƒ³ä¸€æƒ³æ˜¯å¦å³ä½¿æ²’æœ‰ç‰¹å®šçš„èª°åšäº›ä»€éº¼ï¼Œé€™ä»¶äº‹ä»æœƒç™¼ç”Ÿã€‚ä½ è¦çµ¦æ•´å€‹é«”åˆ¶ä¸€é»æŒè²ã€‚\n  10: æ€¥è¿«å‹ç›´è¦ºåèª¤  ç‚ºäº†æ‰­è½‰æ€¥è¿«å‹ç›´è¦ºåèª¤ï¼Œä½ è¦å°æ­¥å‰è¡Œã€‚æ‡‚å¾—å¯Ÿè¦ºæŸå€‹æ±ºå®šçœ‹ä¼¼æ€¥è¿«ï¼Œç„¶å¾Œæ„è­˜åˆ°å…¶å¯¦çµ•å°‘çœŸæ˜¯é€™éº¼ç·Šæ€¥ã€‚\n   æ·±å‘¼å¸ï¼šç•¶æ€¥è¿«å‹ç›´è¦ºåæ‡‰å‡ºç¾ï¼Œå…¶ä»–ç›´è¦ºä¹Ÿæœƒè·Ÿé€²ï¼Œåˆ†æèƒ½åŠ›å½¢åŒé—œæ©Ÿã€‚é€™æ™‚ä½ å¾—å°‹æ±‚æ›´å¤šæ™‚é–“å’Œè³‡è¨Šã€‚äº‹æƒ…å¾ˆå°‘æ˜¯ç¾åœ¨å†ä¸åšå°±æ²’æ©Ÿæœƒäº†ï¼Œä¹Ÿå¾ˆå°‘æ˜¯éå¾—äºŒæ“‡ä¸€ä¸å¯ã€‚\n  å …å®ˆæ•¸æ“šï¼šå¦‚æœæŸä»¶äº‹é¡¯å¾—æ€¥è¿«èˆ‡é‡è¦ï¼Œå‰‡è©²ç¶“éè¡¡é‡ã€‚æœ‰äº›æ•¸æ“šç›¸é—œä½†éŒ¯èª¤ï¼Œæœ‰äº›æ•¸æ“šæ­£ç¢ºä½†ç„¡é—œï¼Œä½ å¾—ç•™å¿ƒåˆ†è¾¨ã€‚åªæœ‰ç›¸é—œä¸”æ­£ç¢ºçš„æ•¸æ“šæ‰æœ‰ç”¨ã€‚\n  ç•¶å¿ƒç®—å‘½ä»™ï¼šä»»ä½•å°æœªä¾†çš„é æ¸¬éƒ½ä¸æ˜¯éµå£ç›´æ–·ï¼Œè€Œæ˜¯æœ‰ä¸ç¢ºå®šæ€§ã€‚å¦‚æœèª°ä¸æ‰¿èªé€™ä¸€é»ï¼Œä½ å¾—æé˜²ç•¶å¿ƒã€‚æ­¤å¤–ï¼Œä½ å¾—è¦æ±‚å°æ–¹æä¾›æ‰€æœ‰é æ¸¬æƒ…æ³ï¼Œä¸åªæ˜¯æœ€å£æˆ–æœ€å¥½çš„æƒ…æ³ï¼Œä¸¦è©¢å•é€™é¡é æ¸¬åœ¨å…ˆå‰çš„æº–ç¢ºåº¦ã€‚\n  ç•¶å¿ƒæ¿€é€²è¡Œå‹•ï¼šä½ è¦å•æœ‰ä»€éº¼å‰¯ä½œç”¨ï¼Œå•é€™æƒ³æ³•ç¶“éå“ªäº›æª¢é©—ã€‚é›–ç„¶é€æ­¥çš„å¯¦éš›æå‡åŠ æˆæ•ˆè©•ä¼°çœ‹ä¼¼ä¸å¤ å¤§åˆ€é—Šæ–§ï¼Œå»é€šå¸¸æ›´ç‚ºæœ‰æ•ˆã€‚\n    æ±‚çœŸç¿’æ…£çš„å®ˆå‰‡   Dollar Street: See how people really live\n","date":"2021-02-25T17:10:25+08:00","desc":"This is a note about the book \"FACTFULNESSï¼šTen Reasons Weâ€™re Wrong About the World--and Why Things Are Better Than You Think\" (çœŸç¢ºï¼šæ‰­è½‰åå¤§ç›´è¦ºåèª¤ï¼Œç™¼ç¾äº‹æƒ…æ¯”ä½ æƒ³çš„ç¾å¥½)","permalink":"https://blog.lofibean.cc/posts/reading-factfulness/","tags":["book","factfuless","æ›¸æ‘˜"],"title":"ã€æ›¸æ‘˜ã€‘çœŸç¢ºï¼šæ‰­è½‰åå¤§ç›´è¦ºåèª¤ï¼Œç™¼ç¾äº‹æƒ…æ¯”ä½ æƒ³çš„ç¾å¥½"},{"categories":["Dev"],"contents":"Table of Contents  ğŸ˜¨ Problem It\u0026rsquo;s empty:Â Document.cookie The cookie policy  SameSite Secure and HttpOnly   ğŸ˜€ Solution: Enforcing cookie responses on IIS  Advanced: change the config file directly Easy: Add an outbound rule in IIS Manager   ğŸ¯ Conslusion     ğŸ˜¨ Problem There is a internal web application which showing an article from another website in an \u0026lt;iframe\u0026gt;. In order to read the full article the user has to login to the website (i.e. a special Form cookie is required.)\nA user reported:\n I login to the website in a separated browser tab. I can read the full article. However, when I browing the same item in the internal web app, it requires me to login and I am failed to login (in that \u0026lt;iframe\u0026gt;).\n I cannot reproduce this using my browser (Firefox v85). This issue happens on Chrome v88.\nIt\u0026rsquo;s empty:Â Document.cookie I suspect this is something related to my cookie. I check the cookie using document.cookie in Dev tool\u0026rsquo;s console. It\u0026rsquo;s empty when I load the website inside the \u0026lt;iframe\u0026gt;.\nHowever, document.cookie should contain something after I login to the website, right?\nHere and here show the exact same issue reported by other chromium user. Turns out it\u0026rsquo;s about the updated cookie policy in Chrome.\nThe cookie policy I inspected the cookie of the website: it\u0026rsquo;s just a cookie with HttpOnly attribute and othing else. So, something else is missing in the cookie response, right?\nSameSite The modern browsers (e.g. latest Chrome and coming versions of Firefox) require the developer to define an explicit SameSite policy. You can see SameSite cookies explained for details and choose the suiteable value.\nSecure and HttpOnly The cookie has to be served via HTTPS. Hence, those attributes are also required.\nI found that Set-Cookie - HTTP | MDN is a good documentation for you to check all the available attributes related to the Set-CookieHTTP response header.\nI know what might be missing now but how can I fix it? The websites are running on IIS and there are multiple sites has the same cookie problem. A quick fix is required and better don\u0026rsquo;t alter the code.\nğŸ˜€ Solution: Enforcing cookie responses on IIS Advanced: change the config file directly If you feel confident to modify the server config directly, open this file:\n%windir%\\System32\\inetsrv\\config\\applicationHost.config It\u0026rsquo;s a XML file containing the server-level configs.\nFind the  section under system.webServer \u0026gt; rewrite If no, create one:\n\u0026lt;system.webServer\u0026gt; \u0026lt;rewrite\u0026gt; \u0026lt;outboundRules\u0026gt; \u0026lt;rule name=\u0026#34;AddCookiePolicy\u0026#34;\u0026gt; \u0026lt;match serverVariable=\u0026#34;RESPONSE_Set-Cookie\u0026#34; pattern=\u0026#34;^(.*)(AUTH)(=.*)$\u0026#34; /\u0026gt; \u0026lt;action type=\u0026#34;Rewrite\u0026#34; value=\u0026#34;{R:0};SameSite=None;Secure;HttpOnly\u0026#34;\u0026gt; \u0026lt;/rule\u0026gt; \u0026lt;/outboundRules\u0026gt; \u0026lt;/rewrite\u0026gt; \u0026lt;/system.webServer\u0026gt;  You need to change the regex of the pattern attribute. I use ^(.*)(AUTH)(=.*)$ because there are multiple websites and all the auth cookie names are ended with AUTH.\n  Make sure that your regex should have a matching group so that you can make use of it in the action section (i.e. the {R:0})\n Save the file and it\u0026rsquo;s done.\nVerify the config Launch the IIS manager and choose the Configuration Editor on the Server level (not website level). Check the configuration collection under system.webServer/rewrite/outboundRules . You should see the config named AddCookiePolicy.\nEasy: Add an outbound rule in IIS Manager If you want to be safe, launch the IIS Manager and set the rule.\n  Select the URL Rewrite option at the Server level:\n  Choose Blank rule under Outbound rules section. Click OK.\n  Set the matching criteria:\n  Matching scope: Server Variable.\n  Variable name: RESPONSE_Set-Cookie.\n  Variable value: Matches the Pattern using Regular Expressions.\n  Pattern: ^(.*)(AUTH)(=.*)$\u0026quot; /\u0026gt;. You should change this regex in order to match your use case.\n  Ignore case.\n    Set the Action:\n  Value: {R:0};Secure;SameSite=None;HttpOnly\n  Replace existing server variable value\n    Click Apply to enable the rule.\n  Done.\n  After I set this outbound rewrite rule for the cookies, I can see the full article loaded inside the \u0026lt;iframe\u0026gt;. Problem solved.\nğŸ¯ Conslusion When you dealing with cookies in modern browsers, set the correct cookie response attributes including an explicit SameSite policy, a HttpOnly and Secure:\nSet-Cookie: {name}={value}; SameSite=None;HttpOnly;Secure In order to add those attributes in a .NET Framework web app running on IIS, you can simply define an outbound rule rewrite rule on the server level of the IIS Manager.\n","date":"2021-02-16T19:08:15+08:00","desc":"Adding an config in IIS to fix my iframe content.","permalink":"https://blog.lofibean.cc/posts/missing-cookie-in-iframe/","tags":["pest-control","iis","iframe","cookie"],"title":"ğŸ Missing Cookie in iframe"},{"categories":["Dev"],"contents":"Table of Contents  ğŸ˜¨ Problem Expected vs Actual Behavior  Expected Actual   ğŸ˜€ Solution (Part 1): Updating AjaxControlToolkit  Nuget Package Update Some Breaking Changes Different __doPostBack() in Firefox?   ğŸ˜€ Solution (Part 2): Adding \u0026lt;asp:AsyncPostBackTrigger\u0026gt;  The Working Code Snippet   Summary     ğŸ˜¨ Problem  TL;DR: see Summary and the working code snippet if you want to try it right away.\n In my company there is an old Web Form Website running .NET Framework 3.5. I migrated it to an ASP.NET Web Form Application running .NET Framework 4.7.2 few months ago. The website is running just like the old one but recently a user reported that:\n a \u0026lt;select\u0026gt; list which should triggers an AJAX call and refresh part of the page does not work. Instead, the page is reloaded everytime when the item in the \u0026lt;select\u0026gt; list is changed.\n I used almost a day to figure out what\u0026rsquo;s (probably) happened and I hope that this article will be helpful to someone in the future who (still) encounter this problem.\nExpected vs Actual Behavior There is a \u0026lt;form\u0026gt; containing a \u0026lt;select\u0026gt; list (generated by \u0026lt;asp:DropDownList\u0026gt;). When the selected option is changed, an AJAX call will be fired and new items will be fetched. Besides, there is a text area for user to input remarks. A submit button will submit the form.\nExpected The page will not be reloaded when the selected option is changed. The content in the text area retains.\nActual Once the selected option is changed, a form POST is fired (instead of an AJAX call). The content in the text area is therefore being cleaned.\nThis is related to AJAX calls so the first thing I checked was how the AJAX call was initiated.\nğŸ˜€ Solution (Part 1): Updating AjaxControlToolkit In the .aspx file I saw a \u0026lt;asp:UpdatePanel\u0026gt; and a \u0026lt;asp:DropDownList\u0026gt;. This is the simplified structure of that part:\n\u0026lt;asp:UpdatePanel runat=\u0026#34;server\u0026#34; ID=\u0026#34;UpdatePanel2\u0026#34; UpdateMode=\u0026#34;Conditional\u0026#34; ChildrenAsTriggers=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;ContentTemplate\u0026gt; \u0026lt;asp:DropDownList runat=\u0026#34;server\u0026#34; ID=\u0026#34;ddItemTypes\u0026#34; AutoPostBack=\u0026#34;true\u0026#34; OnSelectedIndexChanged=\u0026#34;ddItemTypes_OnSelectedIndexChanged\u0026#34; /\u0026gt; \u0026lt;/ContentTemplate\u0026gt; \u0026lt;/asp:UpdatePanel\u0026gt; AutoPostBack is there so the app should use AjaxControlToolkit to make AJAX calls (I guess that\u0026rsquo;s the standard right?).\nNuget Package Update I checked the package.config:\n\u0026lt;package id=\u0026#34;AjaxControlToolkit\u0026#34; version=\u0026#34;4.1.50508\u0026#34; targetFramework=\u0026#34;net35\u0026#34; /\u0026gt; Looks like the targetFramework is not right. Maybe it\u0026rsquo;s time to update the package too.\n\u0026lt;package id=\u0026#34;AjaxControlToolkit\u0026#34; version=\u0026#34;20.1.0\u0026#34; targetFramework=\u0026#34;net472\u0026#34; /\u0026gt; Some Breaking Changes AjaxControlToolkit has some breaking changes since version 15+. In short, you need to:\n  Uninstall the old version and install the new version of AjaxControlToolkit.\n  Change \u0026lt;asp:ToolkitScriptManager\u0026gt; to \u0026lt;asp:ScriptManager\u0026gt;\n  Remove some unused configs in web.config (see this)\n  [Optional] Install AjaxControlToolkit.HtmlEditor.Sanitizer\n  Change the namespace AjaxControlToolkit.HTMLEditor to AjaxControlToolkit.HtmlEditor\n  Change the namespace AjaxControlToolkit.HTMLEditor.ToolbarButton to AjaxControlToolkit.HtmlEditor.ToolbarButtons\n    You may also readthe official complete migration guide.\nAfter I upgrade the Nuget package, the AJAX calls was working partially: It only works on Chromium-base browsers like Chrome and Edge. However, it does not work on Firefox (85.0) and Safari (14.0.1).\nğŸ˜ ğŸ˜ ğŸ˜\nDifferent __doPostBack() in Firefox? This is what I got from Firefox\u0026rsquo;s dev tool:\nThe initiator is from __doPostBack() in the .aspx page. In Chrome, it\u0026rsquo;s from ScriptResource.axd. Below is the expected call stack: the call is an XHR request fired from ScriptResource.axd.\nLooks like the stack items from bottom to _doPostBack() are the same. I therefore dug into _doPostBack() and eventually found this piece of code in ScriptResource.axd:\nif (!this._postBackSettings.async) { form.onsubmit = this._onsubmit; this._originalDoPostBack(eventTarget, eventArgument); form.onsubmit = null; return; } if this._postBackSettings.async is false, _originaldoPostBack() will be called and that is the __doPostBack() function defined in the .aspx page. This will trigger a page reload instead of an AJAX call.\nFurthermore, I found that the asyncTarget in _postBackSettings  is null but in Chrome that target is the \u0026lt;select\u0026gt; list.\n In Firefox (v85.0) the javascript event initiated is somehow keep propagating to a higher level than the \u0026lt;select\u0026gt; list (probably to the form\u0026rsquo;s level) and therefore being treated as a form POST instead of an AJAX call.\n ğŸ˜€ Solution (Part 2): Adding \u0026lt;asp:AsyncPostBackTrigger\u0026gt; I did some research related to the Firefox-specific page reload and seems none of them were talking about the issue I met. I tried to study the fundamentals of this PostBack behaviour.\nFinally I got this article Avoid (Prevent) Page refresh (PostBack) after SelectedIndexChanged is fired in ASP.Net DropDownList. It suggested what I might missing is an asp:AsyncPostBackTrigger.\nAlso, this StackOverflow answer menitoned the asp:AsyncPostBackTrigger thing.\nSo my understanding is:\n When using the ScriptManager (i.e. the one we introduced when updating the AjaxControlToolkit), we need to define an asp:AsyncPostBackTrigger Trigger in order to make the call AJAX.\n Therefore, I added a Trigger section to the .aspx file:\n\u0026lt;Triggers\u0026gt; \u0026lt;asp:AsyncPostBackTrigger ControlID=\u0026#34;ddItemTypes\u0026#34; EventName=\u0026#34;SelectedIndexChanged\u0026#34; /\u0026gt; \u0026lt;/Triggers\u0026gt; This Trigger section should be placed under the same \u0026lt;asp:UpdatePanel\u0026gt; with the \u0026lt;asp:DropDownList\u0026gt;. Here is the complete snippet:\nThe Working Code Snippet \u0026lt;asp:UpdatePanel runat=\u0026#34;server\u0026#34; ID=\u0026#34;UpdatePanel2\u0026#34; UpdateMode=\u0026#34;Conditional\u0026#34; ChildrenAsTriggers=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;ContentTemplate\u0026gt; \u0026lt;asp:DropDownList runat=\u0026#34;server\u0026#34; ID=\u0026#34;ddItemTypes\u0026#34; AutoPostBack=\u0026#34;true\u0026#34; OnSelectedIndexChanged=\u0026#34;ddItemTypes_OnSelectedIndexChanged\u0026#34; /\u0026gt; \u0026lt;/ContentTemplate\u0026gt; \u0026lt;Triggers\u0026gt; \u0026lt;asp:AsyncPostBackTrigger ControlID=\u0026#34;ddItemTypes\u0026#34; EventName=\u0026#34;SelectedIndexChanged\u0026#34; /\u0026gt; \u0026lt;/Triggers\u0026gt; \u0026lt;/asp:UpdatePanel\u0026gt; Note:\n  EventName is optional here but since I just want this trigger to listen the SelectedIndexChanged event, I add them all.\n  The ControlID has to be an exact match with the ID of \u0026lt;asp:DropDownList\u0026gt;.\n  After I added the \u0026lt;asp:AsyncPostBackTrigger\u0026gt;, all the browsers including Chrome, Edge, Firefox (85.0) and Safari (14.0.1) are working.\nSummary When your .NET 4.5+ ASP.NET Web Form Application using AjaxControlToolkit does not work as expected and cause the controls like \u0026lt;asp:DropDownList\u0026gt; cannot fire an AJAX call (but triggers a form POST), make sure that:\n  The AjaxControlToolkit Nuget package is up to date (and did the proper migration steps here).\n  The \u0026lt;asp:UpdatePanel\u0026gt; section should contain a \u0026lt;Triggers\u0026gt; section. In that section there is an \u0026lt;asp:AsyncPostBackTrigger\u0026gt; with ControlID same as the ID of your control (which is also placed under the same UpdatePanel section).\n  ","date":"2021-02-12T12:44:24+08:00","desc":"ASP.NET Web Form Archaeology: What's wrong with my __doPostBack() on Firefox? Why my AjaxControlToolkit is out of Control?","permalink":"https://blog.lofibean.cc/posts/fixing-ajaxcontroltoolkit-unexpected-page-reload-in-aspnet-webform-application/","tags":["pest-control","aspnet","webform","postback","AjaxControlToolkit","AsyncPostBackTrigger"],"title":"ğŸ Fixing AjaxControlTookit Unexpected Page Reload in ASP.NET Web Form Application"},{"categories":["Leisure"],"contents":"Overview Table of Contents  Overview Using Page Bundle to Group resouces  Insert an Image Cover Image Bonus: Git Repository   Script to start a new post  Insert Images to Typora Shell Script to launch everything       I set up this hugo blog and hosted it on GitHub page. At first, I just want to make it work: showing some text and images. However, I realized that:\n placing the images and posts place under different directories will make this blog become unmanagable. I cannot see the images while writing a post because of (1). I have to switch to my browser when I want to see if the image has been inserted correctly. launching the markdown editor and start hugo after creating a new file will be a very good idea.  Therefore I use some time to re-organize the image and posts and created a script to help me to start writing a new post.\nUsing Page Bundle to Group resouces After reading the Hugo\u0026rsquo;s documentation I think the page-bundles feature is what I need. For each post with images, I will create a Leaf Bundle like the following:\nmy-blog-post â”œâ”€â”€ img â”‚ â”œâ”€â”€ image-1.png â”‚ â”œâ”€â”€ image-2.png â”‚ â””â”€â”€ image-n.png â”œâ”€â”€ index.md â””â”€â”€ thumbnail.jpg Insert an Image For example, the blog post will have a relative url /posts/my-blog-post/. When I using a markdown editor to write the post, I can place all the images under /img and use the relative url:\nI can insert an image like this: ![image-alt](./img/image-2.png) By doing so, I can see the image right away and I don\u0026rsquo;t need to do special handling when generating the blog post using Hugo.\nCover Image Since the cover image will be placed in the front matter and can be seen in browser only, I place it under the same directory with the blog post (i.e. index.md). In the blog post:\n--- title: My Blog Post cover_image: /posts/my-blog-post/thumbnail.jpg --- I will make use of the value in thumbnail and combine with the site root to generate an absolute url. The absolute url can then be used in meta data like og:image. Good for SEO.\nBonus: Git Repository I know this is weird but I split my GitHub page into 2 repositories: the main repo, and a submodule contains all my raw markdown files of my blog posts. I think that will be more organized and I can get all the text files only. Placing the image out of the posts/ folder is kinda breaking this purpose.\nOnce I grouped the image with the markdown files, I can finally keep my content organized again! In short, I created a problem and then solved it ğŸ˜…\nScript to start a new post I love to use Typora to write my posts. However, it\u0026rsquo;s vary painful to manage the images. If I pasting an image to Typora it will store my image into somewhere out of the git repository. Moving the images back to the repository and changing the image pathes is purly a waste of time.\nInsert Images to Typora Luckily, the image issue is solved once I group the post and image under the same folder. What I have to do is change the image setting in Typora:\nChoose Copy image to custom folder and set the value as ./img.\nShell Script to launch everything My current workflow to start a new post:\n launch Terminal and go to the blog post\u0026rsquo;s repo. create a new markdown file. launch Typora. launch Hugo to see the result.  I automated the above steps using the following script:\n#!/bin/zsh read -p \u0026#34;Create a new buldled post (e.g. hello-world): \u0026#34; filename if [ -z \u0026#34;$filename\u0026#34; ] then echo \u0026#34;Filename cannot be empty. Try again.\u0026#34; else cd ./blog echo \u0026#34; 1. Creating new post... \u0026#34; hugo new posts/${filename}/index.md echo \u0026#34; 2. Launching Typora... \u0026#34; open -a Typora ./content/posts/${filename}/index.md \u0026amp; echo \u0026#34; 3. Launching browser... \u0026#34; open http://localhost:1313/posts/${filename} echo \u0026#34; 4. Starting dev server... \u0026#34; hugo serve -D fi% To launch an app from Terminal, you can do this:\nopen -a Typora \u0026amp; Remember to have a \u0026amp; at the end. Otherwise the application will be closed once you close the Terminal!\n","date":"2021-02-05T21:33:03+08:00","desc":"It's time to do some refactoring and improvements for the blog!","permalink":"https://blog.lofibean.cc/posts/improving-my-blogging-workflow/","tags":["hugo"],"title":"Improving My Blogging Workflow"},{"categories":["Coffee"],"contents":"The Exam I passed the City \u0026amp; Guilds International Barista Skills exam this December and I think that will be a good idea to write down what I\u0026rsquo;ve learnt.\nThe Notebook As a result, this notebook is created ğŸ‘‰ https://coffeelab.lofibean.cc/.\n(The notebook is powered by MkDocs and you can find out how to create a site like that here.)\nEnjoy â˜•ï¸\n","date":"2020-12-31T20:58:21+08:00","desc":"A notebook for C\u0026G barista exam.","permalink":"https://blog.lofibean.cc/posts/notes-on-city-n-guilds-barista-exam/","tags":["city-n-guilds","barista","coffee"],"title":"â˜•ï¸ Notes on City \u0026 Guilds International Barista Exam"},{"categories":["Dev"],"contents":"Overview This article shows how to configure Cloudflare for an existing website using AWS Route53.\nTable of Contents  Overview Domain Registrar  What about AWS Route53?   Cloudflare Account  Add a domain Change your nameservers Verify nameservers   Updating DNS Records  (Application) Load Balancers Amazon SES   Summary     Domain Registrar In my opinion, domain registrar is the most confusing part when you configure Cloudflare. To check the details of your domain, use the Domain Name Registration Data Lookup. Here is the lookup result of gitlab.com:\nThe Registrar Information section contains the information where you should change the nameservers in the next step.\nWhat about AWS Route53? Route53 can be a domain registrar OR just managing the hosted zone. If you see AWS is the Registrar in this lookup, then you should update the config in AWS Route53.\nExample 1: Domain purchased from GoDaddy For example, if you purchased your domain in GoDaddy and having a hosted zone in AWS Route 53 (That\u0026rsquo;s my case), GoDaddy is therefore your domain registrar and you should login GoDaddy\u0026rsquo;s account to change the nameserver, NOT AWS Route 53\nExample 2: Domain purchased from AWS Route 53 Unfortunately, You can purchased a domain in AWS Route 53 too. In this case, AWS Route 53 is your domain registrar.\nYou should change the nameservers in the Route 53 console \u0026gt; Registered Domains.\nWhat about NS Record? Changing a NS Record is not the same as changing a nameserver. From the article DNS NS record:\n The NS record indicates which DNS server is authoritative.\n So, a NS Record is similar to MX Record, CNAME Record, A Record, etc. They are all the items under the domain.\nNameserver of the domain is at a higher level and it\u0026rsquo;s controled by the domain registrar.\nCloudflare Account Add a domain It\u0026rsquo;s free to create a Cloudflare account: https://dash.cloudflare.com/sign-up. Cloudflare also offer paid plans and I won\u0026rsquo;t discuss them in this article.\nChoose the free plan and then click Continue\nAfter that, Cloudflare will do a DNS scan for the domain you\u0026rsquo;ve entered. Click Continue.\n Note: Not all the recoreds captured are correct. You will need to add/delete/update some of them later.\n Change your nameservers The last step of setup is changing the nameservers. You will see the following instruction:\n1. Log in to your registrar account In the previous section, you should know which service provider is your domain registrar. Login to your domain registrar and find out the nameserver config. Then, remove the existing nameservers (the entries shown in step 1). For example:\nns1.mydomain.com ns2.mydomain.com ns3.mydomain.com ns4.mydomain.com 2. Replace with Cloudflare\u0026rsquo;s nameservers: When all the existing nameservers are removed, you have to add the Cloudflare nameservers in the domain registrar. For example:\nautumn.ns.cloudflare.com hans.ns.cloudflare.com Note: you have to enter the 2 nameservers shown in step 2. Other (Cloudflare) nameservers won\u0026rsquo;t work.\nVerify nameservers Again, lookup the domain details using Domain Name Registration Data Lookup. This time you should check the details in the Domain Information section.\nYou should see the nameservers are replaced with the Cloudflare\u0026rsquo;s nameservers.\n Note: Changing nameservers is quick and you should be able to see the updated records within 5 minutes.\nOn the other hand, changing the records under this domain may take a longer time (e.g. 24-48 hours).\nDo not mix them up.\n You may click the Done, check nameservers button once you finished changing the nameservers in your domain registrar.\nUpdating DNS Records As mentioned in the above, we have to change some of the records in Cloudflare.\n(Application) Load Balancers You need to replace those A Records into CNAME Records.\nIn AWS Route 53 the load balancer records are in the forms of alias. Cloudflare will fetch the A Records of the load balancers.\nGet the CNAME of your load balancer under AWS EC2 Console \u0026gt; Load balancers \u0026gt; Select your load balancer and see the details. After that, delete the A Record in Cloudflare and add a new CNAME record for your load balancer.\nI used to keep the A Record in Cloudflare and it does work for few days. After that, the IP of that load balancer changed and the website cannot be connected.\nAmazon SES I also found that the SPF and DKIM records for Amazon SES does not created in Cloudflare too. In this case you need to create those records manually in Cloudflare. Just follow the instruction provided by Amazon then you will know how to do:\n  Authenticating Email with SPF in Amazon SES\n  Authenticating Email with DKIM in Amazon SES\n  Summary To use Cloudflare, you need to understand what a domain registrar is. By changing nameservers in a domain registrar and updating some records related to AWS\u0026rsquo;s infrastructure, we can set up the Cloudflare domain for an existing website using AWS Route 53.\nThis is the end of this article (as well as the year 2020).\n","date":"2020-12-31T17:46:38+08:00","desc":"This article shows how to configure Cloudflare for an existing website using AWS Route 53.","permalink":"https://blog.lofibean.cc/posts/set-up-cloudflare-for-route53-domains/","tags":["tutorial","cloudflare","aws","route53"],"title":"Set Up Cloudflare for AWS Route 53 Domains"},{"categories":["Dev"],"contents":"Overview This is an guide on how to set up a AWS EC2 free tier with GUI. The EC2 instance will be able to connect via Remote Desktop Protocol (RDP) or SSH.\nYou need to create a AWS account: https://portal.aws.amazon.com/billing/signup. You may need to provide your credit card information during the signup process.\nSign in to your AWS Account and go to the AWS EC2 Console: https://aws.amazon.com/console/\nTable of Contents  Overview Create an AWS EC2  Set up the security groups Choose the OS, instance type and storage Create and download a .pem key file   Connect to EC2 via SSH Install a GUI and RDP  GUI: LXDE RDP: XRDP Connect to EC2 via remote desktop   Bonus Materials  1. Install additional IBus input method 2. Install Midori browser from .deb package 3. Set up a swapfile for better performance 4. Use EC2 as a VPN server       Create an AWS EC2 Set up the security groups I suggest you define the security groups before setting up the instance. Setting up the security groups will give you a better understanding on what inbound/outbound traffic is allowed in the instances you are going to create.\nChoose Security Groups at the left menu of your EC2 Dashboard. Create 2 security groups:\n rdp: Allow inbound traffic via port 3389 ssh: Allow inbound traffic via port 22 Allow all outbound traffic  Choose the OS, instance type and storage Choose Services \u0026gt; EC2 from the menu. At the EC2 Dashboard, choose Instances.\nClick the Launch Instance and choose the suitable AMI (Amazon Machine Image). Here I choose a t2.micro instance with Ubuntu Server 18.04 LTS image. Remember also choose the suitable Storage as not all kinds of storage are free. In this example I set up a 30GB General Purpose storage.\nAllow SSH and RDP connections Choose the security groups created in the previous step:\nCreate and download a .pem key file You should create this key file. If you don\u0026rsquo;t create this and link it to the instance, you will not be able to connect to the instance via SSH or RDP. Here we create a new key file named ssh_private_key.\nAfter that, click Download Key Pair and keep the key file save.\nDo a chmod on the key file You need to make sure that the ssh_private_key.pem downloaded is able to execute. Run chmod to change the permission:\nâ¯ ll ~/Downloads/ | grep \u0026#34;ssh_private_key.pem\u0026#34; -rw-r--r--@ 1 BEN staff 1.7K Jul 2 18:41 ssh_private_key.pem â¯ chmod 400 ~/Downloads/ssh_private_key.pem â¯ ll ~/Downloads/ | grep \u0026#34;ssh_private_key.pem\u0026#34; -r--------@ 1 BEN staff 1.7K Jul 2 18:41 ssh_private_key.pem Connect to EC2 via SSH Once you click the Launch instance , you should be able to see your instance in running state in the web console. Then, you can connect to the EC2 via ssh using the pem key file. Assuming that your DNS name of your EC2 is ec2-0-1-2-3.ap-northeast-1.compute.amazonaws.com and it is running at ap-northeast-1 region, you can connect to it using user ubuntu:\nâ¯ ssh -i ~/Downloads/ssh_private_key.pem ubuntu@ec2-0-1-2-3.region-name.compute.amazonaws.com The authenticity of host \u0026#39;ec2-0-1-2-3.region-name.compute.amazonaws.com (0.1.2.3)\u0026#39; can\u0026#39;t be established. ECDSA key fingerprint is SHA256:8t8ey5IqoiGOKGc9WuDc5SXaYqFHPnKph1mRtzbQNTc. Are you sure you want to continue connecting (yes/no/[fingerprint])? You need to confirm your fingerprint at the first connection attempt.\nWelcome to Ubuntu 18.04.4 LTS (GNU/Linux 5.3.0-1023-aws x86_64) * Documentation: https://help.ubuntu.com * Management: https://landscape.canonical.com * Support: https://ubuntu.com/advantage System information as of Thu Jul 2 10:54:37 UTC 2020 System load: 0.0 Processes: 90 Usage of /: 3.7% of 29.02GB Users logged in: 0 Memory usage: 16% IP address for eth0: 172.31.4.8 Swap usage: 0% 0 packages can be updated. 0 updates are security updates. The programs included with the Ubuntu system are free software; the exact distribution terms for each program are described in the individual files in /usr/share/doc/*/copyright. Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law. To run a command as administrator (user \u0026#34;root\u0026#34;), use \u0026#34;sudo \u0026lt;command\u0026gt;\u0026#34;. See \u0026#34;man sudo_root\u0026#34; for details. ubuntu@ip-172-31-4-8:~$ Install a GUI and RDP GUI: LXDE I choose LXDE as the GUI of the ubuntu server: https://lxde.sourceforge.net/about.html.\n LXDE is a new project aimed to provide a new desktop environment which is lightweight and fast\n RDP: XRDP xrdp is an open-source Remote Desktop Protocol server: http://xrdp.org\n xrdp provides a graphical login to remote machines using RDP (Microsoft Remote Desktop Protocol)\n Install the packages:\nsudo apt-get update -y sudo apt-get install lxde -y sudo apt-get install xrdp -y Set a password for your accout You need to also set up a password for the ubuntu. This is for your later use in RDP as RDP only allows you to login an password-protected account.\nsudo passwd ubuntu Connect to EC2 via remote desktop For mac user, you need to download the Microsoft Remote Desktop. If you are using Windows, you should already have the Remote Desktop application preinstalled.\n\nLaunch the app and click Add PC:\nSet the PC name (i.e. the DNS name of your machine):Login with user ubuntu and the password you set in the previous step.\n Bonus Materials 1. Install additional IBus input method If you want to type Japanese, Chinese, etc. you may need to install an input method. For cangjie, you can install Cangjians via the terminal:\nsudo apt-get install ibus-cangjie 2. Install Midori browser from .deb package  Midori Browser is a browser web light, fast, secure, free software \u0026amp; open source\n Download .deb file: https://astian.org/en/midori-browser/download/ or using wget:\ncd ~/Downloads sudo wget -qnc https://packages.astian.org/pool/main/m/midori/midori_9.0.0-1_amd64.deb ubuntu@ip-172-31-4-8:~/Downloads$ ll total 1492 drwxr-xr-x 2 ubuntu ubuntu 4096 Jul 2 11:29 ./ drwxr-xr-x 17 ubuntu ubuntu 4096 Jul 2 11:22 ../ -rw-r--r-- 1 root root 1517328 Jan 11 23:26 midori_9.0.0-1_amd64.deb After that, install the deb package using dpkg\nsudo dpkg -i midori_9.0.0-1_amd64.deb You may see the dependency problems like the following:\nubuntu@ip-172-31-4-8:~/Downloads$ sudo dpkg --configure -a dpkg: dependency problems prevent configuration of midori: midori depends on libpeas-1.0-0 (\u0026gt;= 1.15); however: Package libpeas-1.0-0 is not installed. midori depends on libxml2-utils; however: Package libxml2-utils is not installed. midori depends on gstreamer1.0-plugins-bad; however: Package gstreamer1.0-plugins-bad is not installed. midori depends on gstreamer1.0-libav; however: Package gstreamer1.0-libav is not installed. dpkg: error processing package midori (--configure): dependency problems - leaving unconfigured Errors were encountered while processing: midori In this case, update the packages and reinstall midori:\nsudo dpkg --configure -a sudo apt-get -f install sudo apt-get update sudo apt-get install midori 3. Set up a swapfile for better performance ubuntu@ip-172-31-4-8:~$ sudo fallocate -l 1G /swapfile ubuntu@ip-172-31-4-8:~$ sudo chmod 600 /swapfile ubuntu@ip-172-31-4-8:~$ sudo mkswap /swapfile Setting up swapspace version 1, size = 1024 MiB (1073737728 bytes) no label, UUID=9a121c2c-cd6f-48bf-b928-e550095a3efd ubuntu@ip-172-31-4-8:~$ sudo swapon /swapfile ubuntu@ip-172-31-4-8:~$ sudo swapon --show NAME TYPE SIZE USED PRIO /swapfile file 1024M 0B -2 ubuntu@ip-172-31-4-8:~$ sudo nano /etc/fstab /swapfile swap swap defaults 0 0 After that, reboot the machine.\n4. Use EC2 as a VPN server Create a new security group allows all TCP and UDP inbound connections and add this security group to the EC2 instance:\nInstall openvpn scripts This repo contains scripts for VPN server set up and profile management. Install it into your EC2:\nDownload the script:\nsudo apt update sudo apt upgrade -y mkdir ~/vpn \u0026amp;\u0026amp; cd ~/vpn wget https://git.io/vpn -O openvpn-install.sh ubuntu@ip-172-31-4-8:~/vpn$ ll total 32 drwxrwxr-x 2 ubuntu ubuntu 4096 Jul 2 12:11 ./ drwxr-xr-x 19 ubuntu ubuntu 4096 Jul 2 12:11 ../ -rw-rw-r-- 1 ubuntu ubuntu 23085 Jul 2 12:11 openvpn-install.sh Make the openvpn-install.sh exectable in your EC2:\nchmod +x openvpn-install.sh sudo ./openvpn-install.sh Add a new profile by running openvpn-install.sh:\nWelcome to this OpenVPN road warrior installer! This server is behind NAT. What is the public IPv4 address or hostname? Public IPv4 address / hostname [18.183.12.213]: Which protocol should OpenVPN use? 1) UDP (recommended) 2) TCP Protocol [1]: 1 What port should OpenVPN listen to? Port [1194]: Select a DNS server for the clients: 1) Current system resolvers 2) Google 3) 1.1.1.1 4) OpenDNS 5) Quad9 6) AdGuard DNS server [1]: 1 Enter a name for the first client: Name [client]: demo-ec2-client OpenVPN installation is ready to begin. Press any key to continue... Finished! The client configuration is available in: /home/ubuntu/demo-ec2-client.ovpn New clients can be added by running this script again. Use another Terminal to download the .ovpn file. Assuming that the machine name is ec2-0-1-2-3.ap-northeast-1.compute.amazonaws.com and the generated .ovpn file is place under ~/:\nscp -i sparkle.pem ubuntu@ec2-0-1-2-3.ap-northeast-1.compute.amazonaws.com:~/demo-ec2-client.ovpn ~/Downloads/demo-ec2-client.ovpn Connect to the VPN Pritunl Client is a easy-to-use OpenVPN client. Downlaod and install it.\nLaunch the client and click Import Profile:\nAfter that, click the burger menu of the profile and Connect.\n Reference:\nhttps://comtechies.com/how-to-set-up-gui-on-amazon-ec2-ubuntu-server.html\n","date":"2020-10-03T13:40:48+08:00","desc":"A guide to set up a AWS EC2 with GUI and more.","permalink":"https://blog.lofibean.cc/posts/set-up-an-aws-ec2-with-ubuntu-gui-rdp-and-more/","tags":["tutorial","aws","ec2","rdp","ovpn"],"title":"Set Up an AWS EC2 with Ubuntu GUI, RDP and more"},{"categories":["Dev"],"contents":" This is the introduction related to my experience on using Atlassian Bamboo / MSBuild / MSDeploy / IIS, I will cover the build process / setup in the coming articles.\n Preface This is an article talking about my experience (â‰  100% solution. â‰  golden rule on CI/CD) on using Atlassian Bamboo. It is a tool for continuous integration, deployment, and delivery. I use this tool for all the .NET-based web applications running on the Windows ecosystem.\n Note on 2020: Bitbucket Pipelines is a newer service created by Atlassian. If you are building applications other then Windows, macOS, or iOS applications then I strongly recommend you to use this instead of Bamboo.\n Table of Contents  Deployment (CD)  Glossary   Build (CI)  Glossary   Git   Deployment (CD)  Nuget Packages Websites   Build (CI)  Nuget Packages Websites       CI/CD principles In my opinion, when you start designing your CI/CD workflows:\n Make things predictable. Think of the deployment (CD) first, then work backward to the integration (CI) part. Use Gitflow in your source code.  Fundamentals of Bamboo The menu in Bamboo (version 6.5.0) contains 3 parts:\n Projects, Build and Deploy.  Deployment (CD) Here is a typical deployment project summary looks like:\nYou can check this out by clicking Deploy \u0026gt; All Deployment Projects. After that, choose one of the item on the list.\nGlossary Artifact: The content built in the CI part.\nDeployment Environment: The place the artifacts should go to.\nRelease: A unique (and usually auto-increment) identifier of this deployment.\nDeployment Project: A collection of build plans.\nBuild (CI) Here is a typical build dashboard:\nThis is the default front page of Bamboo. You can also check this out by clicking Build \u0026gt; All Build Plans.\nGlossary Build: The build result of the default plan.\nBuild Plan: Usually it refers to the definitions of all build-related configuratoins. However, sometimes it also refers to the default build barnch or the default branch configurations.\nI will try to avoid using the term build plan in this article as it is a bit confusing. I will use :\n  default branch configuratoins to indicate the default settings of a build plan;\n  default build branch to indicate the branch associated to the default branch configuratoins.\n  When I use the word build plan, it refers to the item listed under Plan column in the build dashboard.\n  Build Project: Similar to Deployment Project, it\u0026rsquo;s a collection of build plans.\nGit From the basic assumption in the CI/CD principles, pt. 3 all the repositories are using Gitflow. I will use the following conventions when talking about the CI settings.\nDefault build branch: git\u0026rsquo;s develop branch.\nBuild branch: All the other git\u0026rsquo;s branches, including feature/*, release/*, hotfix/*, master\nMaster branch: git\u0026rsquo;s master branch\nLinked Repository: Store all the git repository connection setups for later user in CI/CD steps. It\u0026rsquo;s under âš™ï¸ (Bamboo Administration) \u0026gt; Linked repositories.\nLinked repositories\"\nThis is an example for a class library:\nAnd this is an example for website:\nNext, I will talk about how to design a CD flow, then a CI flow.\nDesigning a CI/CD workflow  Assumption: you are using gitflow to manage your git repository.\n In short:\nDeployment\n 1 deoloyment project, many deployment plans. 1 destination, 1 deployment plan.  Integration\n 1 Bitbucket git repository, (usually) 1 Bamboo build plan  build the develop branch using default plan configuration git branch \u0026lt;\u0026ndash;\u0026gt; Branch config of a build plan   1 Bitbucket project, 1Bamboo build project  Deployment (CD) All the deployments in my team can be categorized in to 2 types: either a library (i.e. a nuget package) or a website (i.e. an IIS website).\nNuget Packages My team is using MyGet to host private packages. So, there is only 1 destination for my artifact goes.\nThis is how I organize the deployment project:\nDeployment Project â”œâ”€â”€ Production environment: for builds from master â””â”€â”€ Pre-release environment: all other branches Websites We have 2 web servers for production and other environments has a corresponding web server. All running IIS. On the other hand, some of the websites are hosting under a sub-directory (as a sub-site).\nTherefore, an artifact may goes to multiple destinations.\nIn my design, 1 deployment environment responsibles for 1 destination (i.e. 1 IIS web server).\nSo you may ask: why not 1 deployment environment for 1 environment? Here\u0026rsquo;s why:\n1-to-1 mapping of deployment environment and IIS website The bad One of the downside is: It takes longer time to deploy all websites. Consider the case of deploying 2 deployment projects at the same time, and each project has multiple deployment environments. The sequence of deployment activities can be:\n deploy site A to environment A deploy site B to environment A deploy site A to environment B (triggered by activity 1.) deploy site B to environment B (triggered by activity 2.)  Which means I have to wait for the deployment of another website.\nThe good The biggest advantage of doing so is that modefying one deployment environment does not affect any settings of the other deployment environments. Then, I can do the following things:\n A/B testing Rollback the version of a specific web server Check out the audit log / deployment history for a particular web server  Moreover, you can see the status of all environments in the All Deployment Projects page (Deploy \u0026gt; All Deployment Projects).\n If deployment of a particular web server is failed, I am able to find out which server is it easily Plus, I can just re-deploy to that particuler web server  You can create a new deployment environment by cloning an existing one (from the same deployment project or from another one). Thus, this is not a tedious task.\n(I am not sure about the above observation and please do let me know if I got something wrong or there are any better solutions.)\nMy decision This is how I organize the deployment project:\nDeployment Project â”œâ”€â”€ Production (A) environment: for builds from master / release â”œâ”€â”€ Production (B) environment: for builds from master / release â”œâ”€â”€ Staging environment: all other branches â””â”€â”€ UAT environment: all other branches Build (CI) Similarly, my team has to build nuget packages, .NET Framework and .NET Core web applications.\nIn my case, the CI part has a close relationship with the gitflow.\nNuget Packages I need to build 2 kinds of artifacts:\n Testing package: Prerelease; Production package; Release (used by other solutions/projects in production) deployment.  Plan/Branch configurations (See the Websites section.)\nWebsites I need to build 2-3 kinds of artifacts:\n For UAT environment; For Staging environment (this environment is not 24/7 and will be set up when necessary); For Production environment.  Default configurations: develop For the default settings in a build plan, always choose the develop as the main branch and allow Bamboo to create/remove all the feature/*, hotfix/* branches.\nProduction configurations: master Define a build plan for master branch. Uncheck Clean up plan branch automatically under Branch details tab to prevent this branch being deleted by Bamboo.\nNote on release branches I ususlly not using release branch. When I use that, I will set up a build branch manually, just like the master.\nStaging configurations: staging Just like the set up of production configurations. However, change the variables for the staging environment.\nYou may also need to override the default branch configurations under the Variables tab.\nYou can find these tabs under form the top menu: Build \u0026gt; All build plans \u0026gt; ğŸ–‹ (right end of the plan) \u0026gt; (Choose the plan branch name).\n","date":"2020-09-20T14:45:18+08:00","desc":"Thoughs about using Atlassian Bamboo: the introduction.","permalink":"https://blog.lofibean.cc/posts/notes-on-atlassian-bamboo/","tags":["Bamboo","continuous integration","continuous delivery"],"title":"Atlassian Bamboo: an Opinionated Approach"},{"categories":["Dev"],"contents":"This post contains many useful snippets for me when writing Ruby scripts. I will keep updating this note in the future.\nTable of Contents  ğŸ· About File  Absolute Path Read / Write a file   ğŸ· About String  String template String Interpolation Trim a String Null Or Empty Titlecase / UPPERCASE / lowercase / Capitalize   ğŸ· About Input  Console Input   ğŸ· About Regex  Named regex capturing group   ğŸ· About Bundler and Gemfile  Install bundler Setup and restore dependencies Check the info of a installed gem       ğŸ· About File Absolute Path __dir__ returns the current path.\nFile.join(__dir__, file_name_no_path ) Read / Write a file Read the content of file_name to buffer\nbuffer = File.read( file_name ) Write content to file_name. File will be created when it does not exist.\nFile.open( file_name , \u0026#34;w\u0026#34;) { |f| f.write( content ) } ğŸ· About String String template To create a multiline string template:\ntemplate = \u0026lt;\u0026lt;-EOCONTENT Your Multiline Text Content EOCONTENT String Interpolation str = \u0026#34;This is a string with #{variable_name}.\u0026#34; Trim a String \u0026#34; Hello James \u0026#34;.strip #=\u0026gt; \u0026#34;Hello James\u0026#34; Null Or Empty str.nil? ? \u0026#34;null\u0026#34; : \u0026#34;not_null\u0026#34; str.empty? ? \u0026#34;empty\u0026#34; : \u0026#34;not_empty\u0026#34; Titlecase / UPPERCASE / lowercase / Capitalize All returns a new copy. Examples from this answer in StackOverflow.\n\u0026#34;hello James\u0026#34;.titleize #=\u0026gt; \u0026#34;Hello James\u0026#34; \u0026#34;hello James\u0026#34;.upcase #=\u0026gt; \u0026#34;HELLO JAMES\u0026#34; \u0026#34;hello James\u0026#34;.downcase #=\u0026gt; \u0026#34;hello james\u0026#34; \u0026#34;hello James\u0026#34;.capitalize #=\u0026gt; \u0026#34;Hello james\u0026#34; Note: Alter the original string by adding ! right after the method.\n\u0026#34;hello James\u0026#34;.downcase! ğŸ· About Input Console Input Ask a question and wait for user input:\nprint \u0026#34;Your question: \u0026#34; user_input = gets (you may need to strip the user_input to ger rid of a tailing newline.)\nğŸ· About Regex Test a ruby regex: https://rubular.com/\nNamed regex capturing group Steps:\n Prepare the regex: ^(\\w+)(Query|Command)$. Add ?\u0026lt;named_group\u0026gt; at the beginning inside that capturing group. Do the regex match() Retrieve the named group: [:named_group]  ## name: SomeStuffQuery ; result: SomeStuff result = /^(?\u0026lt;named_group\u0026gt;\\w+)(Query|Command)$/.match(name)[:named_group] If your regex is valid, you should be able to see the captured group and related content:\nğŸ· About Bundler and Gemfile Bundler helps you to manage gem denendencies in your project.\nInstall bundler gem install bundler bundler -v Setup and restore dependencies Create a Gemfile:\nsource 'https://rubygems.org' gem 'dotenv', '~\u0026gt; 2.7', '\u0026gt;= 2.7.5' gem \u0026quot;mustache\u0026quot;, \u0026quot;~\u0026gt; 1.0\u0026quot; Globally bundle # may requires sudo Locally To install gems at a relative path e.g. at the lib folder:\nbundle install --path=./lib a .bundle folder will be generated, together with your Gemfile.lock.\nCheck the info of a installed gem â¯ bundle info ruby_http_client * ruby_http_client (3.5.1) Summary: A simple REST client Homepage: http://github.com/sendgrid/ruby-http-client Path: ~/git/my-folder/lib/ruby/2.6.0/gems/ruby_http_client-3.5.1  (cover image from this dribble)\n","date":"2020-09-15T08:40:48+08:00","desc":"I don't need â†‘â†‘â†“â†“â†â†’â†â†’BA but I need this when writing Ruby scripts.","permalink":"https://blog.lofibean.cc/posts/ruby-cheatsheet/","tags":["cheatsheet","ruby"],"title":"Ruby Cheatsheet"},{"categories":["Dev"],"contents":"What is Gravatar Your public profile on the internet, provided by Wordpress. See https://en.gravatar.com/.\n1. Upload an image to your gravatar account If you don\u0026rsquo;t have the gravatar account, create one. Make sure that the email you used to create the account will be the email account you want to link your profile picture.\nAfter that, upload your profile picture to gravatar.\n2. Use the image everywhere Get your md5 hash of email address For MacOS user, you should have the md5 utility installed, go to the terminal and check:\nâ¯ which md5 /sbin/md5 After that, generate the md5 has of your email address:\nâ¯ md5 -s \u0026#34;myemall@address.com\u0026#34; MD5 (\u0026#34;myemall@address.com\u0026#34;) = ca49930cff2f87bd37bfe71ce21467f The gravatar image url is in this format:\nhttps://gravatar.com/avatar/{your md5 hash}?s={size} If you want to have a 200px avatar, use https://gravatar.com/avatar/ca49930cff2f87bd37bfe71ce21467f?s=200\nuse this image url in \u0026lt;img\u0026gt; tag:\n\u0026lt;img src=\u0026#34;https://gravatar.com/avatar/ca49930cff2f87bd37bfe71ce21467f?s=200\u0026#34; /\u0026gt; And you are good to go!\n","date":"2020-07-18T12:01:56+08:00","desc":"Gravatar. Gravatar everywhere.","permalink":"https://blog.lofibean.cc/posts/use-gravatar-everywhere/","tags":["tutorial","gravatar"],"title":"Use Gravatar Everywhere"},{"categories":["Dev"],"contents":"Background Recently I created a hugo blog and started writing articles (yes, that\u0026rsquo;s the blog you are reading). Later, I found that dev.to can publish articles (as draft) from a RSS feed. In that way I don\u0026rsquo;t have to copy-and-paste my articles manually in order to publish the same item on dev.to!\nTable of Contents  Background ğŸ˜¨ Problem ğŸ˜€ Solution  Locating rss.xml Rendering the full content Regenerating the site   Bonus: The difference between {{ and {{- in Hugo Conclusion     ğŸ˜¨ Problem Although dev.to\u0026rsquo;s puslishing from RSS feed service is great, my Hugo site is not that great (with the basic settings). When I was trying to sync my RSS feed items to dev.to, all items can be imported but only the beginning part of the content was fetched.\nI know that should be something wrong with the RSS feeds generated by Hugo. The default Hugo RSS template only renders Summary of an article and my Hugo theme is using that:\n As you can see in line 73, the \u0026lt;description\u0026gt; in my RSS feeds contain article summary only but not the full content. Is there any ways to change the Summary here into something else? Something else that represents the full content?\nğŸ˜€ Solution Locating rss.xml Usually, Hugo templates are placed under {your hugo theme}/layouts/_defualt/. If such file does not exist, it\u0026rsquo;s time to create one. You can copy-and-paste the code from Hugo\u0026rsquo;s github or run the following curl command under /layouts/_default to download it:\ncurl \u0026#34;https://raw.githubusercontent.com/gohugoio/hugo/master/tpl/tplimpl/embedded/templates/_default/rss.xml\u0026#34; \u0026gt; rss.xml Rendering the full content Rendering the full content of is really simple and straight-forward. What you need to do is just replacing this:\n\u0026lt;description\u0026gt;{{ .Summary | html }}\u0026lt;/description\u0026gt; With this:\n\u0026lt;description\u0026gt;{{- .Content | html -}}\u0026lt;/description\u0026gt; Caution: use {{- instead of {{. Read the bonus part if you want to know what is the difference.\nRegenerating the site Updating the RSS template will not update your generated content automatically. Therefore, you need to re-generate your Hugo site:\nhugo You should see the changes in all RSS xml files (from git). After that, push all the code changes, remove all the fetched posts in dev.to and re-fetch them. That\u0026rsquo;s it.\nBonus: The difference between {{ and {{- in Hugo You may notice that the template code is changed into {{- from {{. As a newbie in Hugo I checked the Hugo\u0026rsquo;s official documentation about whitespace.\n \u0026hellip; the ability to trim the whitespace from either side of a Go tag \u0026hellip;\n This - notation is introduced in Go 1.6.\nThe following example (from the documentation):\n\u0026lt;div\u0026gt; {{ .Title }} \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; {{- .Title -}} \u0026lt;/div\u0026gt; Which will output:\n\u0026lt;div\u0026gt; Hello, World! \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt;Hello, World!\u0026lt;/div\u0026gt; In other words, that\u0026rsquo;s the trim() in JavaScript. That\u0026rsquo;s the String.Trim() in C#.\nConclusion The default RSS feed in Hugo site shows article abstract only. By defining a custom rss.xml template and replacing {{ .Summary | html }} with {{- .Content | html -}} in the \u0026lt;description\u0026gt; tag you will get the article\u0026rsquo;s full content in the re-generated RSS xml files.\n","date":"2020-07-03T09:53:38+08:00","desc":"The default RSS feed in Hugo site shows article abstract only. But what should I do if I want to display full content of the articles in the feed?","permalink":"https://blog.lofibean.cc/posts/displaying-the-full-content-in-hugo-rss-feed/","tags":["tutorial","hugo","rss"],"title":"Displaying the Full Content in Hugo's RSS feed"},{"categories":["Leisure"],"contents":" ğŸš¨ Note: This is not a technical reading. If you want to have some fun and practice your ls and cat skills, this article may suit you.\n Table of Contents  Misc. files of the OS  The meaning of flowers The birthday present guide   Mac is a secret fan of\u0026hellip; Bonus: the missing recipe   Misc. Files of the OS I found some interesting files under /usr/share/misc of my MacBook:\n-r--r--r-- 1 root wheel 3.1K Dec 14 2019 ascii -r--r--r-- 1 root wheel 374B Dec 14 2019 birthtoken -r--r--r-- 1 root wheel 2.9K Dec 14 2019 eqnchar -r--r--r-- 1 root wheel 1.4K Dec 14 2019 flowers -r--r--r-- 1 root wheel 508B Dec 14 2019 getopt -rw-r--r-- 1 root wheel 941B Dec 14 2019 mail.help -rw-r--r-- 1 root wheel 1.3K Dec 14 2019 mail.tildehelp -r--r--r-- 1 root wheel 310B Dec 14 2019 man.template -r--r--r-- 1 root wheel 948B Dec 14 2019 mdoc.template -r--r--r-- 1 root wheel 425B Dec 14 2019 operator -r--r--r-- 1 root wheel 78K May 27 11:38 trace.codes -rw-r--r-- 1 root wheel 13K Dec 14 2019 units.lib The Meaning of Flowers /usr/share/misc/flowers lists out the meaning of flowers1. Check this out if you are going to buy some flowers but you don\u0026rsquo;t know what you should buy.\n# Flower : Meaning #\t@(#)flowers\t8.1 (Berkeley) 6/8/93 # # Upside down reverses the meaning. African violet:Such worth is rare. Apple blossom:Preference. Bachelor's button:Celibacy. Bay leaf:I change but in death. Camelia:Reflected loveliness. Chrysanthemum, other color:Slighted love. Chrysanthemum, red:I love. Chrysanthemum, white:Truth. Clover:Be mine. Crocus:Abuse not. Daffodil:Innocence. Forget-me-not:True love. Fuchsia:Fast. Gardenia:Secret, untold love. Honeysuckle:Bonds of love. Ivy:Friendship, fidelity, marriage. Jasmine:Amiability, transports of joy, sensuality. Leaves (dead):Melancholy. Lilac:Youthful innocence. Lilly of the valley:Return of happiness. Lilly:Purity, sweetness. Magnolia:Dignity, perseverance. Marigold:Jealousy. Mint:Virtue. Orange blossom:Your purity equals your loveliness. Orchid:Beauty, magnificence. Pansy:Thoughts. Peach blossom:I am your captive. Petunia:Your presence soothes me. Poppy:Sleep. Rose, any color:Love. Rose, deep red:Bashful shame. Rose, single, pink:Simplicity. Rose, thornless, any color:Early attachment. Rose, white:I am worthy of you. Rose, yellow:Decrease of love, rise of jealousy. Rosebud, white:Girlhood, and a heart ignorant of love. Rosemary:Remembrance. Sunflower:Haughtiness. Tulip, red:Declaration of love. Tulip, yellow:Hopeless love. Violet, blue:Faithfulness. Violet, white:Modesty. Zinnia:Thoughts of absent friends. The Birthday Present Guide Check out the /usr/share/misc/birthtoken2 and see which gem and flower (looks like someone in Berkeley knows about the flowers really well) you should buy for your friends!\n \u0026ldquo;Oh why you choose this gem and that flower as the present?\u0026quot;\n\u0026ldquo;Um\u0026hellip; that\u0026rsquo;s my computer\u0026rsquo;s idea\u0026hellip;\u0026quot;\n More About Perl and Ruby The creator of Ruby chose the name Ruby because it was the birthstone of one of his colleagues and that is the gem right after Pearl (Perl).\nLesson learnt: when you try to name a new language you invented, you should check this file out!\n# Birthday : Birth Stone : Birth Flower #\t@(#)birthtoken\t8.1 (Berkeley) 6/8/93 January:Garnet:Carnation February:Amethyst:Violet March:Aquamarine:Jonquil April:Diamond:Sweetpea May:Emerald:Lily Of The Valley June:Pearl:Rose July:Ruby:Larkspur August:Peridot:Gladiolus September:Sapphire:Aster October:Opal:Calendula November:Topaz:Chrysanthemum December:Turquoise:Narcissus Mac is a Secret Fan of\u0026hellip; The /usr/share/calendar folder contains some useful calendars but this one really catches my eye:\n-rw-r--r-- 1 root wheel 1.4K Dec 14 2019 calendar.lotr This is a timeline of the important events happened in The Lord Of The Rings3:\n/* * Lord Of The Rings * * $FreeBSD: src/usr.bin/calendar/calendars/calendar.lotr,v 1.2 2003/10/09 00:31:48 grog Exp $ */ #ifndef _calendar_lotr_ #define _calendar_lotr_ 01/05\tFellowship enters Moria 01/09\tFellowship reaches Lorien 01/17\tPassing of Gandalf 02/07\tFellowship leaves Lorien 02/17\tDeath of Boromir 02/20\tMeriadoc \u0026amp; Pippin meet Treebeard 02/22\tPassing of King Elessar 02/24\tEnts destroy Isengard 02/26\tAragorn takes the Paths of the Dead 03/05\tFrodo \u0026amp; Samwise encounter Shelob 03/08\tDeaths of Denethor \u0026amp; Theoden 03/18\tDestruction of the Ring 03/29\tFlowering of the Mallorn 04/04\tGandalf visits Bilbo 04/17\tAn unexpected party 04/23\tCrowning of King Elessar 05/19\tArwen leaves Lorien to wed King Elessar 06/11\tSauron attacks Osgiliath 06/13\tBilbo returns to Bag End 06/23\tWedding of Elessar \u0026amp; Arwen 07/04\tGandalf imprisoned by Saruman 07/24\tThe ring comes to Bilbo 07/26\tBilbo rescued from Wargs by Eagles 08/03\tFuneral of King Theoden 08/29\tSaruman enters the Shire 09/10\tGandalf escapes from Orthanc 09/14\tFrodo \u0026amp; Bilbo's birthday 09/15\tBlack riders enter the Shire 09/18\tFrodo and company rescued by Bombadil 09/28\tFrodo wounded at Weathertop 10/05\tFrodo crosses bridge of Mitheithel 10/16\tBoromir reaches Rivendell 10/17\tCouncil of Elrond 10/25\tEnd of War of the Ring 11/16\tBilbo reaches the Lonely Mountain 12/05\tDeath of Smaug 12/16\tFellowship begins Quest #endif /* !_calendar_lotr_ */ Bonus: the missing recipe In the eariler versions of the macOS, a hidden cookie recipe can be found by typing this command in the Terminal:\nOpen /usr/share/emacs/22.1/etc/COOKIES Unforrunately in the latest macOS this file is gone (together with /usr/share/emacs). We can only check this out on the Apple Open Source website4.\n  https://github.com/lattera/freebsd/blob/master/share/misc/flowers\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n https://github.com/lattera/freebsd/blob/master/share/misc/birthtoken\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n https://opensource.apple.com/source/misc_cmds/misc_cmds-31/calendar/calendars/calendar.lotr.auto.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n https://opensource.apple.com/source/emacs/emacs-96/emacs/etc/COOKIES.auto.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2020-06-28T12:28:38+08:00","desc":"Your computer may know something you don't expected.","permalink":"https://blog.lofibean.cc/posts/the-perks-of-being-a-mac-or-freebsd-user/","tags":["mac","easter-egg"],"title":"The Perks of Being a Mac (or FreeBSD) user"},{"categories":["Dev"],"contents":"ğŸ˜¨ Problem When I was building a website using gulp@^3.9.0 to compile sass on the build server with Node.js v12 installed, it failed.\nHere are (part of) the errors shown in the console:\nerror\t26-Jun-2020 08:35:02\tgyp ERR! node -v v12.18.0 error\t26-Jun-2020 08:35:02\tgyp ERR! node-gyp -v v3.8.0 error\t26-Jun-2020 08:35:02\tgyp ERR! not ok error\t26-Jun-2020 08:35:02\tBuild failed with error code: 1 error\t26-Jun-2020 08:35:05\terror\t26-Jun-2020 08:35:05\tnpm ERR! code ELIFECYCLE error\t26-Jun-2020 08:35:05\tnpm ERR! errno 1 error\t26-Jun-2020 08:35:05\tnpm ERR! node-sass@4.9.3 postinstall: `node scripts/build.js` error\t26-Jun-2020 08:35:05\tnpm ERR! Exit status 1 error\t26-Jun-2020 08:35:05\tnpm ERR! error\t26-Jun-2020 08:35:05\tnpm ERR! Failed at the node-sass@4.9.3 postinstall script. error\t26-Jun-2020 08:35:05\tnpm ERR! This is probably not a problem with npm. There is likely additional logging output above. (OK I know that\u0026rsquo;s not your fault, npm.) Here is my package.json:\n{ \u0026#34;devDependencies\u0026#34;: { \u0026#34;gulp\u0026#34;: \u0026#34;^3.9.0\u0026#34;, \u0026#34;gulp-concat\u0026#34;: \u0026#34;^2.6.0\u0026#34;, \u0026#34;gulp-minify-css\u0026#34;: \u0026#34;^1.2.4\u0026#34;, \u0026#34;gulp-rename\u0026#34;: \u0026#34;^1.2.2\u0026#34;, \u0026#34;gulp-sass\u0026#34;: \u0026#34;^4.0.2\u0026#34;, \u0026#34;gulp-sourcemaps\u0026#34;: \u0026#34;*\u0026#34; } } ğŸ˜ node-sass I noticed that should be something wrong with node-sass, which being used in gulp-sass. I met this issues before and from my experience, node-sass will try to download the corresponding prebuilt binary base on your OS or build it locally using python, MSBuild, etc\u0026hellip; (That\u0026rsquo;s why you will met lots of questions in Stack Overflow asking python2 not found when installing node-sass , what\u0026rsquo;s wrong with my node-sass or I got a panic attack when dealing with node-sass should I consult a developer or a doctor first?).\nFor this node-sass issue, you can try to run this on Windows:\nnpm install --global --production windows-build-tools npm install node-gyp Or try to delete package-lock.json and node_modules first and do a npm install if you can install all packages successfully on let say Mac OS but failed on Windows.\nğŸ‘†Those tricks saved me most of the time.\nI just want to get my css files back and you told me I have to install this and that and download node npm python ms build tools some prebuilt binaries? Are you serious, node-sass? ğŸ˜‘ ReferenceError: primordials is not defined After the node-sass issue was solved, the build server ran the build jobs again and got these errors:\nerror\t26-Jun-2020 08:53:06\tfs.js:35 error\t26-Jun-2020 08:53:06\t} = primordials; error\t26-Jun-2020 08:53:06\t^ error\t26-Jun-2020 08:53:06\terror\t26-Jun-2020 08:53:06\tReferenceError: primordials is not defined error\t26-Jun-2020 08:53:06\tat fs.js:35:5 ## ( blah blah blah ) ## error\t26-Jun-2020 08:53:06\tat Module._compile (internal/modules/cjs/loader.js:1138:30) error\t26-Jun-2020 08:53:06\tat Object.Module._extensions..js (internal/modules/cjs/loader.js:1158:10) error\t26-Jun-2020 08:53:06\tat Module.load (internal/modules/cjs/loader.js:986:32) error\t26-Jun-2020 08:53:06\tat Function.Module._load (internal/modules/cjs/loader.js:879:14) error\t26-Jun-2020 08:53:06\tat Module.require (internal/modules/cjs/loader.js:1026:19) error\t26-Jun-2020 08:53:06\tat require (internal/modules/cjs/helpers.js:72:18) This answer from Stack Overflow states that it is due to Node.js v12 does not compatible with Gulp v3 and you need to upgrade Gulp to v4. I know I should do that but I also know that I will meet the Did you forget to signal async completion? issue which also will cause an epic fail of the build unless I re-write the gulp tasks.\nI don\u0026rsquo;t want to change my gulpfile.js and I don\u0026rsquo;t want to upgrade gulp. Not now. That\u0026rsquo;s why I started searching for a solution without changing any configurations of the build server as well as the gulp setup in the project.\nğŸ˜€ Solution: adding a npm-shrinkwrap.json Eventually I found a solution on how to handle this \u0026ldquo;Gulp VS Node\u0026rdquo; situation. What we need is create a npm-shrinkwrap.json file under the same directory with package.json.\nThe content of the json file:\n{ \u0026#34;dependencies\u0026#34;: { \u0026#34;graceful-fs\u0026#34;: { \u0026#34;version\u0026#34;: \u0026#34;4.2.3\u0026#34; } } } After that I can build the project and finish all the gulp tasks without errors ğŸ‰.\nğŸ¤” So, what\u0026rsquo;s going on? From the npm\u0026rsquo;s official documentation on the npm-shrinkwrap command:\n This command repurposes package-lock.json into a publishable npm-shrinkwrap.json or simply creates a new one. The file created and updated by this command will then take precedence over any other existing or future package-lock.json files.\n And from the documentation on the npm-shrinkwrap.json:\n \u0026hellip; Additionally, if both package-lock.json and npm-shrinkwrap.json are present in a package root, package-lock.json will be ignored in favor of this file.\n In other words, this file has a higher priority then package-lock.json. However, why this file can solve the build error?\nThefs module Node\u0026rsquo;s fs module got some changes since v11.15 which cause the graceful-fs@^3.0.0 package does not work anymore. Unfortunately, gulp@3.9.1 depends on graceful-fs@^3.0.0. As a result, running the gulp tasks on Node.js v12 will cause the primordials is not defined error.\nThe fix After we added the npm-shrinkwrap.json, from my understanding it locked down the version of package(s) used by the execution environment to the version stated in that file (and ignore the setup in package-lock.json.In the above case, the npm-shrinkwrap.json tells Node.js 12 use graceful-fs@4.2.3 instead of graceful-fs@^3.0.0. This combination works. Meanwhile, the gulp package will still reference to the package.json and package-lock.json file and use the graceful-fs@^3.0.0 package. This combination also works.\nğŸ¯ Conclusion I got some build errors when using gulp@^3.9.0 and gulp-sass under Node.js 12. After I delete the package-lock.json and re-run npm install, the sass problem solved. Next, I added a npm-shrinkwrap.json to (temporarily) solve the incompatable issue with old gulp running on new Node.js.\nCan I call this the Node version of dependency hell1? ğŸ”— references:  ReferenceError: primordials is not defined ã®è§£æ±ºæ–¹æ³•ã€å‚™å¿˜éŒ²ã€‘ Task function must be specified è§£æ±ºæ–¹æ³•ã€å‚™å¿˜éŒ²ã€‘ Node 12: Errors with \u0026lsquo;primordials is not defined\u0026rsquo; #5 How to fix â€œReferenceError: primordials is not definedâ€ error    https://en.m.wikipedia.org/wiki/Dependency_hell\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2020-06-27T16:03:12+08:00","desc":"Tackling the generation gap between old Gulp and young Node when building my website.","permalink":"https://blog.lofibean.cc/posts/battling-with-gulp-and-node/","tags":["pest-control","nodejs","node-sass","gulp","gulp-sass"],"title":"ğŸ Battling With Gulp and Node"},{"categories":["Dev"],"contents":"ğŸ˜¨ Problem After I installed the Nerdbank.GitVersioning Nuget package in my .NET MVC app, the following error came out when I want to get the version using ThisAssembly.AssemblyInformationalVersion:\nerror CS0122: \u0026#39;ThisAssembly\u0026#39; is inaccessible due to its protection level I tried to install the package across all the projects in the same solution. It didn\u0026rsquo;t work.\nI tried to uninstall and re-ininstall the package. It didn\u0026rsquo;t work.\nğŸ˜€ Solution .csproj Turns out there is something missing in my .csproj file. I missed an \u0026lt;Import\u0026gt; tag at the end of the file, just before the \u0026lt;/Target\u0026gt; tag:\n\u0026lt;Import Project=\u0026#34;..\\packages\\Nerdbank.GitVersioning.3.1.91\\build\\Nerdbank.GitVersioning.targets\u0026#34; Condition=\u0026#34;Exists(\u0026#39;..\\packages\\Nerdbank.GitVersioning.3.1.91\\build\\Nerdbank.GitVersioning.targets\u0026#39;)\u0026#34; /\u0026gt; And in the EnsureNuGetPackageBuildImports target, add the following line:\n\u0026lt;Error Condition=\u0026#34;!Exists(\u0026#39;..\\packages\\Nerdbank.GitVersioning.3.1.91\\build\\Nerdbank.GitVersioning.targets\u0026#39;)\u0026#34; Text=\u0026#34;$([System.String]::Format(\u0026#39;$(ErrorText)\u0026#39;, \u0026#39;..\\packages\\Nerdbank.GitVersioning.3.1.91\\build\\Nerdbank.GitVersioning.targets\u0026#39;))\u0026#34; /\u0026gt; In addition, the 1st \u0026lt;PropertyGroup\u0026gt; should contain a pair of NuGetPackageImportStamp tag:\n\u0026lt;NuGetPackageImportStamp\u0026gt; \u0026lt;/NuGetPackageImportStamp\u0026gt; AssemblyInfo.cs I also removed the following lines in Properties/AssemblyInfo.cs:\n[assembly: AssemblyVersion(\u0026#34;1.0.0.0\u0026#34;)] [assembly: AssemblyFileVersion(\u0026#34;1.0.0.0\u0026#34;)] version.json At the root directory of the project, I added a version.json file with the following content:\n{ \u0026#34;$schema\u0026#34;: \u0026#34;https://raw.githubusercontent.com/dotnet/Nerdbank.GitVersioning/master/src/NerdBank.GitVersioning/version.schema.json\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;1.0.0\u0026#34; } After that, ThisAssembly is back and I can read the git version info successfully.\nğŸ”— references:  https://github.com/dotnet/Nerdbank.GitVersioning/blob/master/doc/dotnet.md https://github.com/dotnet/Nerdbank.GitVersioning/issues/449 https://github.com/dotnet/Nerdbank.GitVersioning/issues/404  ğŸ–¼ cover image: Grace Hopperâ€™s operational logbook for the Harvard Mark II computer ","date":"2020-06-25T17:10:24+08:00","desc":"I can't use 'ThisAssembly' in my .NET MVC project. Here's why.","permalink":"https://blog.lofibean.cc/posts/git-versioning-this-assembly-is-inaccessible-due-to-its-protection-level/","tags":["pest-control","csharp",".NET","nuget"],"title":"ğŸ GitVersioning: 'ThisAssembly' Is Inaccessible Due to Its Protection Level"},{"categories":["Dev"],"contents":"Overview I created a static website using MkDocs and deployed to GitLab Pages. This is what I did: https://bemn-proof-of-concept.gitlab.io/mkdoc/.\nTable of Contents  MkDocs  Preparation Up and Run Add a new page Theming Custom Resources   GitLab Pages  .gitlab-ci.yml Build and Deploy   Conclusion   MkDocs From MkDocs' official website:\n MkDocs is a fast, simple and downright gorgeous static site generator that\u0026rsquo;s geared towards building project documentation. Documentation source files are written in Markdown, and configured with a single YAML configuration file.\n In my opinion, setting up a static site using MkDocs is really straightforward. It\u0026rsquo;s easy to change the theme and insert custom styles/scripts. Keep it simple, stupid. That\u0026rsquo;s what I need.\nPreparation Make sure that you have the following tools:\n python 3.x and pip. Install it via executable from the official website, or using tools like Homebrew.  $ python --version Python 3.8.2 $ pip --version pip 20.0.2 from /usr/local/lib/python3.8/site-packages/pip (python 3.8) a GitLab account. You can use other service like Github Pages, Amazon S3, etc. (optional) a markdown cheatsheet.  (For me, the most difficult part is how to get the python and pip versions right. In Mac the built-in python version is 2.7 but we need python 3 to install pip.)\nUp and Run $ pip install mkdocs $ mkdocs --version mkdocs, version 1.1.2 Assuming that your project folder is doc-project:\n$ mkdocs new doc-project $ cd doc-project A MkDocs project is then created with the following folder structure:\ndoc-project â”œâ”€â”€ docs â”‚Â â””â”€â”€ index.md â”œâ”€â”€ img â”‚Â â””â”€â”€ favicon.ico â””â”€â”€ mkdocs.yml Let\u0026rsquo;s run the site:\n$ mkdocs serve INFO - Building documentation... INFO - Cleaning site directory INFO - Documentation built in 1.65 seconds [I 200612 23:30:19 server:334] Serving on http://127.0.0.1:8000 And check it out at http://127.0.0.1:8000!\nAdd a new page The content Remember, all the documents should place under docs. Let\u0026rsquo;s create an Overview page:\n$ cd docs $ touch overview.md After that, add some content to overview.md.\nThe menu If you want the visitors to reach the overview page, you need to add an url in the menu. Let\u0026rsquo;s edit mkdocs.yml, the site config file:\n# In mkdocs.yml... site_name: Doc Project ## change your site name here. nav: - Home: index.md - Overview: overview.md ## add this line. You will see a new link called Overview in the menu. If you want to set your site name now, change the value of site_name.\nSo that\u0026rsquo;s it. That\u0026rsquo;s how to add a new page.\nTheming You can apply a custom theme to MkDocs. This page contains many themes contributed by the community.\nIn this section, I will apply the Material Design theme to my MkDocs site.\nStop running your site and install the theme by:\n$ pip install mkdocs-material Update the mkdocs.yml again:\n# In mkdocs.yml... site_name: Doc Project nav: - Home: index.md - Overview: overview.md ## Add this section theme: name: material palette: ## Add this sub-section if you want to change the theme color scheme: amber primary: amber accent: orange Start the site:\n$ mkdocs serve You will see MkDocs is dressing the amber Material Design theme.\nCustom Resources Sometimes you may want to add custom CSS or JS. In MkDocs, you can do it by adding extra_css and extra_javascript sections in mkdocs.yml.\nI created a catalog page which contains a table written in markdown. Also, I want to apply jQuery DataTables to make the table more interactive. Therefore, I added the related js libraries and related css file to MkDocs. You can see the result here.\nExercice: create a catalog.md file and add a markdown table in it.\nNext, add the custom resource sections to the config file:\n# In mkdocs.yml... site_name: Doc Project nav: - Home: index.md - Catalog: catalog.md ## The catalog page you created in the exercise. theme: name: material palette: scheme: amber primary: amber accent: orange ## Custom js files. extra_javascript: - https://code.jquery.com/jquery-3.5.1.min.js - https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js - scripts/site.js ## Custom css files. extra_css: - https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css Create a custom js file:\n$ cd docs $ mkdir scripts $ cd scripts $ touch site.js Now in your site.js file:\n$(document).ready( function () { $(\u0026#39;table\u0026#39;).DataTable(); }); Afer that, you should be able to see an interactive table in the catalog page.\n GitLab Pages Create a GitLab repository under your personal space or a project group. The url will be something like https://gitlab.com/{username or project group name}/{repo name}.\nClone the repo you created and create the following items:\n$ mkdir src $ touch .gitlab-ci.yml Place your MkDoc items (i.e. the doc-project folder) under src. See the following folder structure:\n(root of the repo) â”œâ”€â”€ .gitlab-ci.yml â””â”€â”€ src â””â”€â”€ doc-project .gitlab-ci.yml The .gitlab-ci.yml is a GitLab-specific file. GitLab will read and run the steps in the file. We need to tell GitLab how to generate and deploy our static MkDocs website. In this file:\n# In .gitlab-ci.yml... image: python:3.8-buster ## MkDocs requies python. pages: stage: deploy ## tell GitLab to deploy the website in this step. before_script: - pip install mkdocs ## install MkDocs. - pip install mkdocs-material ## install the theme. script: - cd ./src/doc-project - mkdocs build ## built the site. - mv site ../../public artifacts: paths: - public ## Uncomment the following section if you want to run this step under master branch only. # only: # - master  So basically it tells GitLab to install the tools required under python 3.8 environment and deploy the website after the site is generated.\nTry to run the following command if you want to generate the site locally:\n$ mkdocs build The generated site is located under doc-project/site/ .\nIn order to display the website properly, you need to place the generated site under the public folder and let GitLab knows the artifact inside is the website you want to deploy.\nBuild and Deploy Push the code to GitLab and the site should build automatically. Check out the status of the build under CI/CD \u0026ndash;\u0026gt; Pipelines.\n A green tag showing passed for each successfully build.   Check out your website now. The url is https://{username or project group name}.gitlab.io/{repo name}/.\n Conclusion In this tutorial, we created a static site with custom theme, styles and js library by using MkDocs. After that, we set up a CI/CD pipeline on GitLab for building and deploying this static site to GitLab Pages.\n","date":"2020-06-12T19:37:00+08:00","desc":"A guide to build a static website using MkDocs and deploy it to GitLab Pages.","permalink":"https://blog.lofibean.cc/posts/documentation-makes-easy-with-mkdocs-and-gitlab-pages/","tags":["tutorial","python","mkdocs","markdown","gitlab"],"title":"Documentation Makes Easy With MkDocs and GitLab Pages"},{"categories":["Dev"],"contents":"Background Recently our team started a new project: a showcase page under our main website. The website is read-only and the content won\u0026rsquo;t change frequently so we can have an aggressive caching policy.\nI built this MVC web app using .NET Core 3.1 and deploy it as an IIS sub-site under the main website (which is a .NET Framework web app running on the IIS).\nTable of Contents  Redis  NuGet package appsettings.json Startup.cs CacheService Controller   Cache Tag Helper  Example Explaination   Bonus: A note on @helper and other HTML helpers   Redis Why? We are using Redis because it is simple, fast and we are already using it across all the main websites.\nHow? Here are some highlights:\n1. NuGet packages \u0026lt;PackageReference Include=\u0026#34;StackExchange.Redis\u0026#34; Version=\u0026#34;2.1.30\u0026#34; /\u0026gt; \u0026lt;PackageReference Include=\u0026#34;StackExchange.Redis.Extensions.Core\u0026#34; Version=\u0026#34;6.1.7\u0026#34; /\u0026gt; \u0026lt;PackageReference Include=\u0026#34;StackExchange.Redis.Extensions.Newtonsoft\u0026#34; Version=\u0026#34;6.1.7\u0026#34; /\u0026gt; \u0026lt;PackageReference Include=\u0026#34;StackExchange.Redis.Extensions.AspNetCore\u0026#34; Version=\u0026#34;6.1.7\u0026#34; /\u0026gt; StackExchange.Redis.Extensions.Newtonsoft is optional. Start from .NET Core 3.0 the default Json serializer will be System.Text.Json. If you want to use Newtonsoft.Json then you will need this package in your project.\nStackExchange.Redis.Extensions.Core and StackExchange.Redis.Extensions.AspNetCore are the useful package to connect/read/write Redis easier. Read this documentation for more details.\n2. appsettings.json A typical .NET Core project should have an appsettings.json. Add the following section:\n{ \u0026#34;Redis\u0026#34;: { \u0026#34;AllowAdmin\u0026#34;: false, \u0026#34;Ssl\u0026#34;: false, \u0026#34;ConnectTimeout\u0026#34;: 6000, \u0026#34;ConnectRetry\u0026#34;: 2, \u0026#34;Database\u0026#34;: 0, \u0026#34;Hosts\u0026#34;: [ { \u0026#34;Host\u0026#34;: \u0026#34;my-secret-redis-host.com\u0026#34;, \u0026#34;Port\u0026#34;: \u0026#34;6379\u0026#34; } ] } } Here, my-secret-redis-host.com is the Redis host and We are using the database no. 0. You can set multiple hosts. You can see a detailed configuration here.\n3. Startup.cs Add the following code in ConfigureServices()\nvar redisConfiguration = Configuration.GetSection(\u0026#34;Redis\u0026#34;).Get\u0026lt;RedisConfiguration\u0026gt;(); services.AddStackExchangeRedisExtensions\u0026lt;NewtonsoftSerializer\u0026gt;(redisConfiguration); 5. CacheService I created a CacheService.cs to help me reading/writing data in Redis. In this service:\npublic CacheService(RedisConfiguration redisConfiguration, ILogger\u0026lt;RedisCacheConnectionPoolManager\u0026gt; poolLogger) { try { var connectionPoolManager = new RedisCacheConnectionPoolManager(redisConfiguration, poolLogger); _redisClient = new RedisCacheClient(connectionPoolManager, serializer, redisConfiguration); } catch(Exception ex) { /* something wrong when connection to Redis servers. */ } _cacheDuration = 300; // cache period in seconds } We need a method to write data:\npublic async Task\u0026lt;bool\u0026gt; AddAsync(string key, object value) { try { bool added = await _redisClient.GetDbFromConfiguration().AddAsync(key, value, DateTimeOffset.Now.AddSeconds(_cacheDuration)); return added; } catch (Exception ex) { /* something wrong when writing data to Redis */ return false; } } And we need a method to get cached data:\npublic async Task\u0026lt;T\u0026gt; TryGetAsync\u0026lt;T\u0026gt;(string key) { try { if(await _redisClient.GetDbFromConfiguration().ExistsAsync(key)) { return await _redisClient.GetDbFromConfiguration().GetAsync\u0026lt;T\u0026gt;(key); } else { return default; } } catch(Exception ex) { /* something wrong when writing data to Redis */ return default; } } I intentionally name this method TryGetAsync() because the cache may not exist or already expired when you try to get it from Redis.\nAfter that, let\u0026rsquo;s go back to Startup.cs and register this service in ConfigureService():\nservices.AddTransient\u0026lt;CacheService\u0026gt;(); Remember to register this service after services.AddStackExchangeRedisExtensions().\n5. Controller Inject the CacheService to the controller:\npublic DemoController(CacheService cacheService) { _cacheService = cacheService; } public async Task\u0026lt;IActionResult\u0026gt; Demo(string name) { var cacheKey = $\u0026#34;DemoApp:{name}\u0026#34;; // Try to get cached value from Redis.  string cachedResult = await _cacheService.TryGetAsync\u0026lt;string\u0026gt;(cacheKey); if(default != cachedResult) { return View(cachedResult); } // Add a new entry to Redis before returning the message.  var message = $\u0026#34;Hello, {name}\u0026#34;; if(null != sections \u0026amp;\u0026amp; sections.Any()) { await _cacheService.AddAsync(cacheKey, message); } return View(message); }  Explain Like I\u0026rsquo;m Five:\nYou ask the shopkeeper in Demo bookstore do they have a specific book name. First, the shopkeeper looks for the book on the bookshelf named Redis. If he finds that book, he takes it out and gives it to you.\nIf your book does not exist in the Redis bookstore, he has to go out and buy that book for you(!). However, he buys 2 identical copies. He gives you one and puts the other one on the Redis bookshelf, just in case another customer want that book later.\n  Cache Tag Helper The Cache Tag Helper is a tag that you can use in a .NET Core MVC app. Content encolsed by this \u0026lt;cache\u0026gt; tag will be cached in the internal cache provider.\nExample \u0026lt;cache expires-after=\u0026#34;@TimeSpan.FromSeconds(60)\u0026#34; vary-by-route=\u0026#34;name\u0026#34; vary-by-user=\u0026#34;false\u0026#34;\u0026gt; @System.DateTime.Now \u0026lt;/cache\u0026gt; Explaination In the above example, some attributes is set in the \u0026lt;cache\u0026gt; tag:\n expires-after: how long (in seconds) will this cache last for. vary-by-route: different copy will be cached when the route has a different value in the nameparam. vary-by-user: different user will see different cached copies.  How can I know if it is working? You will see the value rendered in the above example won\u0026rsquo;t change for 60 seconds even System.DateTime.Now should show the current time.\n Bonus: A note on @helper and other HTML helpers In the old days we can define some @helper functions in the razor view and (re)use it in the view. It\u0026rsquo;s being removed since .NET Core 3.0 because the design of @helper function does not compatible with async Razor content anymore.\nSuccessor of the HTML helpers? You can use the Tag Helpers in ASP.NET Core. Yes, the \u0026lt;cache\u0026gt; Tag Helper is one of the built-in Tag Helpers in .NET Core.\nIn addition, you can use the PartialAsync() method to render the partial HTML markup asynchronously.\n@await Html.PartialAsync(\u0026#34;_PartialName\u0026#34;)  More references on the HTML helpers and Tag Helpers:\nWhat happened to the @helper directive in Razor ?\nRemove the @helper directive from Razor\nASP.NET Core 1.0: Goodbye HTML helpers and hello TagHelpers!\n","date":"2020-06-11T21:06:59+08:00","desc":"A note on how to add Redis and the cache helper to a .NET core Mvc app.","permalink":"https://blog.lofibean.cc/posts/a-tale-of-two-caches-redis-and-cache-helper/","tags":["tutorial","csharp",".NET Core","cache","redis","tag-helpers"],"title":"A Tale of Two Caches: Redis and the cache helper"},{"categories":["Coffee"],"contents":"Background In short: I found some local shops which selling pretty good beans. In Hong Kong.\nDuring the 2020 pandamic, it\u0026rsquo;s not easy to buy beans overseas. However, it gave me a great opportunity to search for some good beans in Hong Kong. Plus, I have more time to stay at home and brew coffee as the company started the WFH policy from Feb.\nTable of Contents  Background  Update history   1. My Little Coffee  Beans Drip bags Equipments   2. Brew Note Coffee Roaster  Beans Subscription plans       Update history ğŸ· 2020-09-12:\n Added new beans I tried. Added new equipments.  I will keep searching for new beans and new local shops in the coming days.\n 1. My Little Coffee ğŸ“: Shop 102, Ho King Shopping Centre, Mong Kok, Kowloon, Hong Kong (map)\nğŸ•‘: 14:00 - 21:00\nğŸ”—: IG | FB\n The shop sells whole beans, drip bags and a lot of coffee equipment. You can also request the shopkeeper to gring the beans too.\nI bought their beans twice a week. Here are some beans that I\u0026rsquo;ve tried and the labels of each kind of bean.\nBeans ğŸŒ El Salvador, Finca La Primera\n Nutty, brown sugar, citrus, sweet aftertaste. Variety: Bourbon, 1200m ~ 1600m  ğŸŒŠ Ethiopia Guji Shakisso Abiyot Boru Galle Dagaa Grade 1\n Great acidity \u0026amp; full mouth feel with notes like raisin, blackberry, dark choco., plum \u0026amp; honey-like sweetness.  ğŸŒŠ Colombia Hulla Mariano Leal Bourbon\n Strong \u0026amp; vibrant aroma, good structure with tasting notes like green apple, vanilla, dark choco. \u0026amp; apricot.  ğŸŒŠ Kenya Nyala AB Top Microlot\n Pleasant \u0026amp; complex acidity, brown sugar in aroma, pomegranate, apple citrus \u0026amp; black currant finish.  ğŸŒŠ Yirgacheffe Dumerso G1\n Tangerine, grape, Earl Grey, smooth, long-lasting  (?) Bohemian Rhapsody\n Nutty, winy, berries, cranberry, balance, sweet, rich \u0026amp; mellow. Smooth  ğŸ· Yunnan (Brandy Fermentation) : This one is super interesting and addictive. Strong brandy / rum taste.\n Foral, brandy winey, black berry  Drip bags  The shop also grinds their beans and sell it as drop bags (~$75/10 bags). Suitable for people who want to drink their own choice in the office.  Equipments Coffee filter KONO\nWhile V60 is dominating the market (I also using plastic V60. Cheap, robust, simple), this shop don\u0026rsquo;t sell V60. Instead, KONO filter is all over the shop.\nClever Cup\nThey sold clever cup recently. In my opinion, it is a french press but looks like a drip coffee filter. You can also use it as a typical coffee filter if you want.\nThe Vietnamese\nOnce apon a time I drank the vietnamese coffee from a local restaurant and it used this coffee filter to brew a dark and strong coffee and mixed with condensed milk. (So strong that I got a headache afterwards X.X)\nGrinders (TBC)\n 2. Brew Note Coffee Roaster ğŸ“: G/F, 19 Fort Street, North Point, Hong Kong Island, Hong Kong (map)\nğŸ•‘: 08:30 - 19:00\nğŸ”—: Website | IG | FB\n This is also a restaurant so you can taste their coffee with delicious food. Ocassionally the shop will held cultural talks.\nThe shop is selling one of the lightest roasted whole beans in the city. I bought the Ethiopia Guji beans a long time ago and tasted the Americano in the shop. Both stunning.\nBeans ğŸŒ Ethiopia Guji Oxygen Free\n Floral, berries, tropical, citrus, sweet   Note: they have a simple wheel indicates the taste on their bean bags!   Subscription plans It also provides different coffee subscription plans. The website shows the details of the beans and the plans.\n","date":"2020-06-11T10:39:39+08:00","desc":"I found some local shops which selling pretty good beans. In Hong Kong.","permalink":"https://blog.lofibean.cc/posts/fantastic-beans-and-where-to-find-them/","tags":["coffee"],"title":"â˜•ï¸ Fantastic Beans and Where to Find Them"},{"categories":["Dev"],"contents":"This is a note about the Linkedin learning course SSL Certificates for Web Developers.\nCertificate and protocol What are SSL/TLS stands for? They stands for Secure Socket Layer and Transport Layer Security. They are the protocol names.\nWhat is HTTPS, and why we are using it? Https[ecure], a protocol on top of HTTP to secure the integrity of the data sending form the user to server.\nWhat is a certificate, and what is it for? A certificate 1 (.crt, .cer) certifies the ownership of a public key. A certificate contains:\n organization, issuer (e.g. the Certificate Authority / Self-signed), valid period, url, state / country  These information can be used to identify the certificate owner.\nThe public key is used to encrypt/decrypt the communication between computers.\n Cryptography Asymmetric VS. Symmetric Asymmetric cryptography requies a pair of keys. The Public key is used to encrypt messages while the private key is for decryption.\nIn symmetric cryptography, both ends use the same password to encrypt + decrypt messages.\nWhy are we using both technologies? And how? In short: For the balance of security and speed, we use asymmetric cryptography to establish secure connection (handshake) and use symmetric cryptography for the data transmission.\nThe Handshake The end user and the server use the same password to encrypt + decrypt the messages. This password is sent from a server to a user by following steps:\n Validate the certificate\u0026hellip;  User makes a request to a web server. Web server responds with its public key certificate. User checks if the public key certificate is valid.   If the certificate from web server is valid\u0026hellip;  User encrypts the password using server\u0026rsquo;s public key, and send to web server. Server decrypts with its private key.    After that, a secure connection is established and they shared the same password 2.\n Types of certificate Self-signed  Intra-communications between systems under same organization. Local development  CA  Subdomain: tied to 1 domain (e.g. www.mydoma.in) Wildcard: tied to a groups of subdomains (e.g. *.mydoma.in) Multi-domain: (e.g. mydoma.in, myweb.site, \u0026hellip;)   ACME (Automatic Certificate Management Environment) To configuring Let\u0026rsquo;s Encrypt\u0026rsquo;s ACME on server, we can make use of the CertBot. For IIS, use Certify.\n  HSTS This can instruct the browser to interact with the server with HTTPS only. Redirect from HTTP to HTTPS is not required. This is achieved by adding a response header (Strict-Transport-Security).\nExample response header:\nStrict-Transport-Security: max-age=63072000; includeSubDomains; preload What HSTS is protecting us from? The Man-in-the-Middle TLS Protocol Downgrade Attack.3 In this example, the hacker C sends a ARP cache table request to both the client A and server B: Now the traffic from A to B is going through C, a typical Man-in-the-Middle attack.\nThe next step is C try to have a downgrade on the TLS version. Since the browsers are backward-compatible on older TLS versions, C can therefore to make the version downgraded to the negotiated version in the handshake process. C can then intercept and decrypt the messages by making use of the security vulnerabilities of eariler TLS.\nHSTS Preloading Avoid redirection of the first request too: https://hstspreload.org/\n  the certificate does not depends on the protocol we use\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n password is just for the same browsing session.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n I am not an expert on this area and I tried by best to digest that article and this wiki to write the summary.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2020-05-23T17:10:25+08:00","desc":"This is a note about the Linkedin learning course SSL Certificates for Web Developers.","permalink":"https://blog.lofibean.cc/posts/a-note-on-ssl/","tags":["ssl","cryptography","https","security","linkedin-digest"],"title":"A Note on SSL Certificate"},{"categories":["Coffee"],"contents":"A note on how to brew coffee.\nV60 â˜•ï¸ How to Brew V60 with UK Brewers Cup Champion, Sang Ho Park | Comprehensive Guide\n  â˜•ï¸ A Coffee Brewing Theory \u0026ldquo;4:6 method\u0026rdquo; Invented by Tetsu Kasuya_ World Brewers Cup 2016 Champion\n  ","date":"2020-05-17T21:10:25+08:00","desc":"A note on how to brew coffee","permalink":"https://blog.lofibean.cc/posts/brewing-coffee/","tags":["coffee","v60"],"title":"â˜•ï¸ Brewing Coffee"},{"categories":["Readings"],"contents":"ğŸ¯ Summary As a human being, managing our energy is more important because this is a limited resources.\nWe may wrongly think that increasing working hours can do more. However, longer working hours leads more unfocus time and brings negative effect to your work.\nSurprisingly, having a monthly plan is better then a detailed daily plan. The later one demotivated people because we face inevitable distractions daily.\nğŸ’¡ Thoughts  Stay focus on work by taking regular breaks. (e.g Pomodoro Technique) In the article, top 10% productive employees work 52-mins work and take 17-mins break. Regularly schedule some time for work individually without distraction.  â­ï¸ Highlights  A workplace study found an average working professional experiences 87 interruptions per day, making it difficult to remain productive and focused for a full day.\n  Surprisingly, the top 10 percent of employees with the highest productivity didnâ€™t put in longer hours than anyone else â€“ often they didn\u0026rsquo;t even work eight-hour days. Instead, the key to their productivity was that for every 52 minutes of focused work, they took a 17-minute break.\n  â€œAt any given point, I should have deep work scheduled for roughly the next month. Once on the calendar, I protect this time like I would a doctorâ€™s appointment or important meeting,â€\n  While the researchers assumed that the well-structured daily plans would be most effective when it came to the execution of tasks, they were wrong: the detailed daily plans demotivated students. Harford argues that inevitable distractions often render the daily to-do list ineffective, while leaving room for improvisation in such a list can reap the best results.\n ğŸ”— reference: Why You Should Manage Your Energy, Not Your Time\n","date":"2020-05-17T13:33:52+08:00","desc":"As a human being, **managing our energy is more important** because this is a limited resources.","permalink":"https://blog.lofibean.cc/posts/why-you-should-manage-your-energy-not-your-time/","tags":["self management","work","pocket-digest"],"title":"Why You Should Manage Your Energy, Not Your Time"},{"categories":["Readings"],"contents":"ğŸ¯ Summary å¥½å¤šæ™‚å€™é›£ä»¥å–æ¨çš„é¸æ“‡æœ¬èº«å°è‡ªèº«æ‰€å¸¶ä¾†çš„å·®ç•°æ²’æœ‰æƒ³åƒä¸­çš„åš´é‡ã€‚å› ç‚ºæ±ºç­–å›°é›£è€Œä¸åšæ±ºç­–åè€Œæœƒä»¤è‡ªå·±æå¤±æ›´å¤§ã€‚\nğŸ’¡ Thoughts æ–‡ç« çš„ç¸½çµæå‡ºäº†é¢å°é¸æ“‡å›°é›£çš„å…¶ä¸­ä¸€å€‹è§£æ±ºæ–¹å‘ï¼šä»¥å¾Œæ‚”/éºæ†¾å»åšæ±ºå®šçš„è€ƒæ…®ã€‚\n åœ¨é¿å…å¾Œæ‚”çš„åŸºç¤ä¸Šå„ªåŒ–ä½ çš„æ±ºå®šï¼Œè€Œä¸æ˜¯åŸºæ–¼æˆåŠŸ/å¤±æ•—æˆ–å¿«æ¨‚/ç—›è‹¦åšå‡ºé‡å¤§æ±ºå®šã€‚\n  ç•¶ä½ åŸºæ–¼ä¸€æ¢è®“ä½ æœ€ä¸æœƒå¾Œæ‚”çš„è·¯å¾‘ä¾†å„ªåŒ–ä½ çš„ç”Ÿæ´»æ™‚ï¼Œä½ å¯ä»¥è¨­æƒ³æœªä¾†çš„è‡ªå·±è™•æ–¼ä¸€å€‹æ¨¡æ“¬æœªä¾†ç‹€æ…‹ï¼Œä¸¦è©¦è‘—æ„Ÿå—ä½ å¯èƒ½å°‡ç¶“æ­·å“ªäº›éºæ†¾\n â­ï¸ Highlights  å…©å€‹é¸é …çš„å¸å¼•åŠ›è¶Šç›¸ä¼¼ï¼Œåœ¨äºŒè€…ä¹‹é–“åšå‡ºé¸æ“‡çš„é›£åº¦è¶Šå¤§â€”â€”å„˜ç®¡åœ¨åŒæ¨£ç¨‹åº¦ä¸Šï¼Œé€™å€‹é¸æ“‡æœ¬èº«ä¸¦ä¸æ˜¯å¤ªé‡è¦ã€‚\n  ä½›é›·å¾·é‡‘æ‚–è«–æŒ‡å‡º:ã€Œåœ¨å¿…é ˆåšå‡ºé¸æ“‡çš„æƒ…æ³ä¸‹ï¼Œéš¨è‘—å…©ç¨®é¸æ“‡çš„æ•ˆæœè¶Šä¾†è¶Šæ¥è¿‘ï¼Œæ±ºç­–å°±æœƒè®Šå¾—æ›´åŠ å›°é›£ï¼Œä½†çµæœå°±æ›´æ²’é‚£éº¼é‡è¦äº†ã€‚ã€\n ğŸ”— Reference:  ä½›é›·å¾·é‡‘æ‚–è«–ï¼šç‚ºä»€éº¼æˆ‘å€‘ç¸½æµªè²»æ™‚é–“åœ¨ç„¡é—œç·Šè¦çš„æ±ºå®šä¸Šï¼Ÿ  ","date":"2020-05-17T12:41:12+08:00","desc":"å¥½å¤šæ™‚å€™é›£ä»¥å–æ¨çš„é¸æ“‡æœ¬èº«å°è‡ªèº«æ‰€å¸¶ä¾†çš„å·®ç•°æ²’æœ‰æƒ³åƒä¸­çš„åš´é‡ã€‚å› ç‚ºæ±ºç­–å›°é›£è€Œä¸åšæ±ºç­–åè€Œæœƒä»¤è‡ªå·±æå¤±æ›´å¤§ã€‚","permalink":"https://blog.lofibean.cc/posts/fredkins-paradox/","tags":["ä½›é›·å¾·é‡‘æ‚–è«–","Fredkin's paradox","é¸æ“‡å›°é›£","pocket-digest"],"title":"ä½›é›·å¾·é‡‘æ‚–è«– Fredkinâ€™s paradox"},{"categories":["Dev"],"contents":"This post showing how to create a user with limited privileges in PostgreSQL.\nSituation I created a web app. It reads data from a PostgreSQL database. I want to create a user with read-only privilege and connect to the database.\nCode Let say the user you want to create is webapp_user:\nCREATE USER webapp_user WITH ENCRYPTED PASSWORD \u0026#39;secure_passw0rd\u0026#39;; Grant the right to all public tables:\nGRANT SELECT ON ALL TABLES IN SCHEMA public TO webapp_user; Connect the database using webapp_user in the web app.\nI want more power\u0026hellip; Now my web app is not read-only anymore. Users can create/delete some entries in the tables too.\nCode GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO webapp_user; Looks simple and cool! But why I got the permission denied for sequence XXX_id_seq to YYY error while inserting new records to the tables?\nIf your table has an auto-increment field then you need some extra privileges: the privileges to use the sequence-related functions (e.g. currval and nextval)\nGRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public to webapp_user; Example of an auto-increment field: the id of the table\nExtra What if I just want to apply the privilege(s) to a special table?\nGRANT SELECT, INSERT, UPDATE, DELETE ON special_table TO webapp_user;  Reference:\n Grant Privileges on Table ERROR: permission denied for sequence cities_id_seq using Postgres   (this blog post also available on dev.to)\n","date":"2020-04-16T20:01:15+08:00","desc":"This post showing how to create a user with limited privileges in PostgreSQL.","permalink":"https://blog.lofibean.cc/posts/creating-a-user-with-limited-privileges-in-postgres/","tags":["postgres"],"title":"Creating a User With Limited Privileges in Postgres"},{"categories":["Dev"],"contents":"Go to blog folder\nhugo new posts/name-of-the-new-post.md Write your post. Back to blog folder and then\nhugo server -D Then you can preview your blog locally.\nDeploy production Change draft=true in the blog post and then\nhugo Push to remote master.\nDone.\n","date":"2020-04-16T10:55:25+08:00","desc":"","permalink":"https://blog.lofibean.cc/posts/welcome/","tags":["tutorial","hugo"],"title":"How to add a new Hugo blog post"}]